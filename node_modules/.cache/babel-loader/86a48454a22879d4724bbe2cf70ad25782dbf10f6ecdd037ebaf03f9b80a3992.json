{"ast":null,"code":"import \"vant/es/overlay/style\";\nimport _Overlay from \"vant/es/overlay\";\nimport \"vant/es/icon/style\";\nimport _Icon from \"vant/es/icon\"; // eslint-disable-next-line\n/* eslint-disable */\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.map.js\";\nimport { qiangdan_post, qiangdanxiangqing_post } from \"@/API/user\";\nimport { mapGetters, mapMutations, mapState } from \"vuex\";\nimport { isLogin } from '@/utils/utis';\nexport default {\n  props: {\n    idx: {\n      type: Number,\n      default: 0\n    }\n  },\n  data() {\n    return {\n      qiangdan_show: false,\n      timer_shijian: \"\",\n      cartNum: 0,\n      isChristmas: process.env?.VUE_APP_IS_CHRISTMAS,\n      listItem: [{\n        cls: \"home\",\n        name: this.$t(\"首页\"),\n        path: \"/home\",\n        icon: 'shouye',\n        src: require(\"@/assets/image/bottom/home.png\"),\n        srcSelect: require(`@/assets/${process.env.VUE_APP_ITEM_NAME}/home2.png`)\n      }, {\n        cls: \"commodity\",\n        name: this.$t(\"商品\"),\n        path: \"/commodity\",\n        icon: \"24gf-appsBig6\",\n        src: require(\"@/assets/image/bottom/chongzhi.png\"),\n        srcSelect: require(`@/assets/${process.env.VUE_APP_ITEM_NAME}/chongzhi2.png`)\n      },\n      // {\n      //   cls: \"shop\",\n      //   name: this.$t(\"店铺\"),\n      //   path: \"/shop\",\n      //   src: require('@/assets/image/bottom/company_normal.png'),\n      //   srcSelect: require('@/assets/image/bottom/company_normal2.png'),\n      // },\n      {\n        cla: \"cart\",\n        name: this.$t(\"购物车\"),\n        path: \"/cart\",\n        icon: 'gouwuchefill',\n        src: require(\"@/assets/image/bottom/renwu.png\"),\n        srcSelect: require(`@/assets/${process.env.VUE_APP_ITEM_NAME}/renwu2.png`)\n      }, {\n        cla: \"me\",\n        name: this.$t(\"我的\"),\n        path: \"/me\",\n        icon: \"wode\",\n        src: require(\"@/assets/image/bottom/wode.png\"),\n        srcSelect: require(`@/assets/${process.env.VUE_APP_ITEM_NAME}/wode2.png`)\n      }]\n    };\n  },\n  components: {\n    [_Icon.name]: _Icon,\n    [_Overlay.name]: _Overlay\n  },\n  created() {\n    if (this.isChristmas) {\n      this.listItem = this.listItem.map((item, index) => ({\n        ...item,\n        src: require(`@/assets/christmas/${index + 1}.png`),\n        srcSelect: require(`@/assets/christmas/${index + 1}.png`)\n      }));\n    }\n  },\n  activated() {\n    this.getChartNum();\n  },\n  mounted() {\n    this.getChartNum();\n  },\n  updated() {\n    this.getChartNum();\n  },\n  computed: mapState({\n    count: state => state.qiangdan.count\n  }),\n  methods: {\n    ...mapMutations([\"setQiangdan\"]),\n    ...mapMutations([\"qiangdan_status_sj\"]),\n    ...mapMutations([\"qiangdan_tanchuang_sj\"]),\n    getChartNum() {\n      setTimeout(() => {\n        this.cartNum = isLogin() && localStorage.getItem(\"CART_NUM\");\n      }, 300);\n\n      // this.cartNum = JSON.parse(\n      //     localStorage.getItem(\"productList\")\n      // )?.value.reduce(function (prev, cur) {\n      //     return (prev += cur.count);\n      // }, 0);\n    },\n    qiangdan_sj(e) {\n      const t = this;\n      this.qiangdan_status_sj(e);\n      qiangdan_post({}).then(res => {\n        // brush_time: 5\n        // orderId: \"3987503220907183731\"\n        var time = res.brush_time * 1000;\n        t.timer_shijian = setTimeout(function () {\n          t.qiangdan_xq(res.orderId);\n        }, time);\n      }).catch(function (err) {\n        // Toast('网络波动请刷新页面');\n        t.qiangdan_status_sj(false);\n      });\n    },\n    qiangdan_xq(e) {\n      var t = this;\n      qiangdanxiangqing_post({\n        orderId: e\n      }).then(res => {\n        this.qiangdan_status_sj(false);\n        this.setQiangdan(res);\n        this.qiangdan_tanchuang_sj(true);\n      }).catch(function (err) {\n        // Toast('网络波动请刷新页面');\n        t.qiangdan_status_sj(false);\n      });\n    },\n    change(item, index) {\n      if (this.$route.path !== item.path) {\n        this.$router.push({\n          path: item.path\n        });\n      }\n      this.$emit(\"change\", index);\n    }\n  },\n  watch: {\n    count(val) {\n      this.getChartNum();\n    }\n    // '$route'(form, to) {\n    //     if (to.path == '/language') {\n    //         console.log(`getStorage('lang') ::->`, getStorage('lang'));\n    //         // this.handleReload()\n    //         // this.$i18n.locale = 'en';\n    //         // // 'en'  'tw'  'cn'\n    //         // console.log(`this.$i18n ::->`, this.$i18n);\n    //     }\n    // }\n  },\n  beforeDestroy() {\n    clearTimeout(this.timer_shijian);\n  }\n};","map":{"version":3,"names":["qiangdan_post","qiangdanxiangqing_post","mapGetters","mapMutations","mapState","isLogin","props","idx","type","Number","default","data","qiangdan_show","timer_shijian","cartNum","isChristmas","process","env","VUE_APP_IS_CHRISTMAS","listItem","cls","name","$t","path","icon","src","require","srcSelect","VUE_APP_ITEM_NAME","cla","components","_Icon","_Overlay","created","map","item","index","activated","getChartNum","mounted","updated","computed","count","state","qiangdan","methods","setTimeout","localStorage","getItem","qiangdan_sj","e","t","qiangdan_status_sj","then","res","time","brush_time","qiangdan_xq","orderId","catch","err","setQiangdan","qiangdan_tanchuang_sj","change","$route","$router","push","$emit","watch","val","beforeDestroy","clearTimeout"],"sources":["src/components/BottomNavigation/index.vue"],"sourcesContent":["<template>\n    <div class=\"footer yongqi\" :class=\"isChristmas && 'christmas_footer'\">\n        <div class=\"yongqi\" v-for=\"(item, index) of listItem\" :key=\"index\" :class=\"[item.cls, { on: index === idx }]\"\n            @click=\"change(item, index)\" style=\"\n                        display: flex;\n                        flex-direction: column;\n                        justify-content: center;\n                        align-items: center;\n                    \">\n            <div class=\"image\" :class=\"isChristmas && 'christmas_img'\">\n                <img :class=\"`img${index}`\" :src=\"index === idx ? item.srcSelect : item.src\" />\n                <span class=\"activeKey\" v-if=\"index == 2 && +cartNum > 0\">{{\n                    cartNum > 99 ? \"99+\" : cartNum\n                }}</span>\n            </div>\n            <!--      <div><i :class=\"index===idx?item.iconSelect:item.icon\" v-if=\"!showIconOrSrc\"></i></div>-->\n            <span :class=\"['colorChange', { on: index === idx }]\"\n                :style=\"{ color: isChristmas && (index === idx ? '#fff' : '#6F92B1') }\">\n                {{ item.name }}\n            </span>\n        </div>\n        <!--    <div class=\"qiangdan\">-->\n        <!--      <img v-if=\"!$store.state.qiangdan.qiangdan_status\" @click=\"qiangdan_sj(true)\" class=\"qiangdan1\" src=\"@/assets/image/bottom/qiangdan.png\" />-->\n        <!--      <img v-if=\"$store.state.qiangdan.qiangdan_status\" class=\"qiangdan1 rotateImages\" src=\"@/assets/image/bottom/refresh.png\" />-->\n        <!--    </div>-->\n    </div>\n</template>\n<script type=\"text/javascript\">\n// eslint-disable-next-line\n/* eslint-disable */\nimport { Overlay, Toast, Icon } from \"vant\";\nimport { qiangdan_post, qiangdanxiangqing_post } from \"@/API/user\";\nimport { mapGetters, mapMutations, mapState } from \"vuex\";\nimport { isLogin } from '@/utils/utis'\nexport default {\n    props: {\n        idx: {\n            type: Number,\n            default: 0,\n        },\n    },\n    data() {\n        return {\n            qiangdan_show: false,\n            timer_shijian: \"\",\n            cartNum: 0,\n            isChristmas: process.env?.VUE_APP_IS_CHRISTMAS,\n            listItem: [\n                {\n                    cls: \"home\",\n                    name: this.$t(\"首页\"),\n                    path: \"/home\",\n                    icon: 'shouye',\n                    src: require(\"@/assets/image/bottom/home.png\"),\n                    srcSelect: require(`@/assets/${process.env.VUE_APP_ITEM_NAME}/home2.png`),\n                },\n                {\n                    cls: \"commodity\",\n                    name: this.$t(\"商品\"),\n                    path: \"/commodity\",\n                    icon: \"24gf-appsBig6\",\n                    src: require(\"@/assets/image/bottom/chongzhi.png\"),\n                    srcSelect: require(`@/assets/${process.env.VUE_APP_ITEM_NAME}/chongzhi2.png`),\n                },\n                // {\n                //   cls: \"shop\",\n                //   name: this.$t(\"店铺\"),\n                //   path: \"/shop\",\n                //   src: require('@/assets/image/bottom/company_normal.png'),\n                //   srcSelect: require('@/assets/image/bottom/company_normal2.png'),\n                // },\n                {\n                    cla: \"cart\",\n                    name: this.$t(\"购物车\"),\n                    path: \"/cart\",\n                    icon: 'gouwuchefill',\n                    src: require(\"@/assets/image/bottom/renwu.png\"),\n                    srcSelect: require(`@/assets/${process.env.VUE_APP_ITEM_NAME}/renwu2.png`),\n                },\n                {\n                    cla: \"me\",\n                    name: this.$t(\"我的\"),\n                    path: \"/me\",\n                    icon: \"wode\",\n                    src: require(\"@/assets/image/bottom/wode.png\"),\n                    srcSelect: require(`@/assets/${process.env.VUE_APP_ITEM_NAME}/wode2.png`),\n                },\n            ]\n        };\n    },\n    components: {\n        [Icon.name]: Icon,\n        [Overlay.name]: Overlay,\n    },\n    created() {\n        if (this.isChristmas) {\n            this.listItem = this.listItem.map((item, index) => ({\n                ...item,\n                src: require(`@/assets/christmas/${index + 1}.png`),\n                srcSelect: require(`@/assets/christmas/${index + 1}.png`)\n            }))\n        }\n    },\n    activated() {\n        this.getChartNum();\n    },\n    mounted() {\n        this.getChartNum();\n    },\n    updated() {\n        this.getChartNum();\n    },\n    computed: mapState({\n        count: (state) => state.qiangdan.count,\n    }),\n    methods: {\n        ...mapMutations([\"setQiangdan\"]),\n        ...mapMutations([\"qiangdan_status_sj\"]),\n        ...mapMutations([\"qiangdan_tanchuang_sj\"]),\n        getChartNum() {\n            setTimeout(() => {\n                this.cartNum = isLogin() && localStorage.getItem(\"CART_NUM\")\n            }, 300);\n\n            // this.cartNum = JSON.parse(\n            //     localStorage.getItem(\"productList\")\n            // )?.value.reduce(function (prev, cur) {\n            //     return (prev += cur.count);\n            // }, 0);\n\n        },\n        qiangdan_sj(e) {\n            const t = this;\n            this.qiangdan_status_sj(e);\n            qiangdan_post({})\n                .then((res) => {\n                    // brush_time: 5\n                    // orderId: \"3987503220907183731\"\n                    var time = res.brush_time * 1000;\n                    t.timer_shijian = setTimeout(function () {\n                        t.qiangdan_xq(res.orderId);\n                    }, time);\n                })\n                .catch(function (err) {\n                    // Toast('网络波动请刷新页面');\n                    t.qiangdan_status_sj(false);\n                });\n        },\n        qiangdan_xq(e) {\n            var t = this;\n            qiangdanxiangqing_post({ orderId: e })\n                .then((res) => {\n                    this.qiangdan_status_sj(false);\n                    this.setQiangdan(res);\n                    this.qiangdan_tanchuang_sj(true);\n                })\n                .catch(function (err) {\n                    // Toast('网络波动请刷新页面');\n                    t.qiangdan_status_sj(false);\n                });\n        },\n        change(item, index) {\n            if (this.$route.path !== item.path) {\n                this.$router.push({ path: item.path });\n            }\n            this.$emit(\"change\", index);\n        },\n    },\n    watch: {\n        count(val) {\n            this.getChartNum()\n        },\n        // '$route'(form, to) {\n        //     if (to.path == '/language') {\n        //         console.log(`getStorage('lang') ::->`, getStorage('lang'));\n        //         // this.handleReload()\n        //         // this.$i18n.locale = 'en';\n        //         // // 'en'  'tw'  'cn'\n        //         // console.log(`this.$i18n ::->`, this.$i18n);\n        //     }\n        // }\n    },\n    beforeDestroy() {\n        clearTimeout(this.timer_shijian);\n    },\n};\n</script>\n<style lang=\"scss\" scoped>\n.rotate_bg {\n    width: 500px;\n    height: 500px;\n    background: #59d1b6;\n    margin: 200px auto;\n}\n\n.rotateImages {\n    -webkit-animation: myRotate 1s linear infinite;\n    animation: myRotate 1s linear infinite;\n}\n\n@-webkit-keyframes myRotate {\n    0% {\n        -webkit-transform: rotate(0deg);\n    }\n\n    50% {\n        -webkit-transform: rotate(180deg);\n    }\n\n    100% {\n        -webkit-transform: rotate(360deg);\n    }\n}\n\n@keyframes myRotate {\n    0% {\n        -webkit-transform: rotate(0deg);\n    }\n\n    50% {\n        -webkit-transform: rotate(180deg);\n    }\n\n    100% {\n        -webkit-transform: rotate(360deg);\n    }\n}\n\n.qiangdan {\n    width: 44px;\n    height: 44px;\n    background: white;\n    border-radius: 50%;\n    position: absolute;\n    bottom: 27px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n    //z-index: 999;\n    .qiangdan1 {\n        width: 38px;\n        height: 38px;\n    }\n}\n\n.footer {\n    box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.08);\n    display: flex;\n    justify-content: center;\n    // position: fixed;\n\n    /*left: 0;*/\n    bottom: 0;\n    //box-sizing: border-box;\n    background: #ffffff;\n    /*max-width: 100%;*/\n    width: 375px;\n    height: 56px;\n    //z-index: 2000;\n}\n\n.christmas_footer {\n    background: url(@/assets/christmas/bbg.png) no-repeat center / 100% 100% !important;\n}\n\n.yongqi {\n    flex: 1;\n    padding: 5px;\n    box-sizing: border-box;\n    font-size: 12px;\n    width: 100%;\n}\n\n.image {\n    position: relative;\n\n    .icon {\n        font-size: 25px;\n    }\n}\n\n.christmas_img {\n    img {\n        width: 34px !important;\n        height: 28px !important;\n        &.img1 {\n            transform: translateY(2px);\n        }\n    }\n}\n\n.image img {\n    width: 20px;\n    height: 20px;\n    //background: white;\n}\n\ndiv>span {\n    display: block;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 10px;\n    line-height: 12px;\n    /* identical to box height */\n    position: relative;\n    text-align: center;\n    color: #aaaaaa;\n    margin-top: 4px;\n    white-space: nowrap;\n\n}\n\n.activeKey {\n    position: absolute;\n    min-width: 15px;\n    min-height: 15px;\n    line-height: 15px;\n    padding: 1px;\n    text-align: center;\n    border-radius: 10px;\n    background-color: red;\n    color: #ffffff;\n    top: -13px;\n    right: -13px;\n}\n\n.on {\n    color: var(--main-color);\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}