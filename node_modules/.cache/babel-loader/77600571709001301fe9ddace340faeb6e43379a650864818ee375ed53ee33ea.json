{"ast":null,"code":"import \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\nimport { withdrawDetails } from \"@/API/user\";\nimport { priceFormat } from '@/utils/utis';\nexport default {\n  name: 'withdrawRecordDetails',\n  components: {\n    [_NavBar.name]: _NavBar,\n    [_Toast.name]: _Toast\n  },\n  data() {\n    return {\n      pageDone: false,\n      orderNo: null,\n      dataInfo: null,\n      priceFormat,\n      failureMsg: ''\n    };\n  },\n  mounted() {\n    this.$nextTick(() => {\n      const {\n        order_no,\n        failure_msg\n      } = this.$route.query;\n      if (order_no) {\n        this.orderNo = order_no;\n        this.failureMsg = failure_msg;\n        this.getDataInfo();\n      } else {\n        _Toast(this.$t('订单号不存在'));\n      }\n    });\n  },\n  methods: {\n    onClickLeft() {\n      this.$router.go(-1);\n    },\n    copyData(ea) {\n      this.$copyText(ea).then(() => {\n        _Toast(this.$t('复制成功'));\n      }, () => {\n        _Toast(this.$t('复制失败'));\n      });\n    },\n    getDataInfo() {\n      _Toast.loading({\n        duration: 0,\n        message: this.$t('请求中')\n      });\n      withdrawDetails({\n        order_no: this.orderNo\n      }).then(res => {\n        res.stateStr = '';\n        res.className = '';\n        if (res.state === 0) {\n          res.stateStr = this.$t('处理中');\n        }\n        if (res.state === 1) {\n          res.className = 'success';\n          res.stateStr = this.$t('成功');\n        }\n        if (res.state === 2) {\n          res.className = 'fail';\n          res.stateStr = this.$t('失败');\n        }\n        this.dataInfo = res;\n        this.pageDone = true;\n        _Toast.clear();\n      }).catch(err => {\n        // Toast(err.msg)\n        _Toast.clear();\n      });\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}