{"ast":null,"code":"import \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"vant/es/dialog/style\";\nimport _Dialog from \"vant/es/dialog\";\nimport \"vant/es/action-sheet/style\";\nimport _ActionSheet from \"vant/es/action-sheet\";\nimport { orderCancel } from '@/API/user';\nexport default {\n  name: 'CancelDialog',\n  components: {\n    [_ActionSheet.name]: _ActionSheet,\n    [_Dialog.name]: _Dialog\n  },\n  props: {\n    dialogShow: {\n      type: Boolean,\n      required: true,\n      default: false\n    },\n    dialogData: {\n      type: Object,\n      required: true,\n      default: () => {}\n    }\n  },\n  computed: {\n    visible: {\n      get() {\n        return this.dialogShow;\n      },\n      set() {\n        this.$emit('update:dialogShow', false);\n      }\n    }\n  },\n  watch: {\n    visible(val) {\n      if (!val) {\n        this.currentIndex = null;\n      }\n    }\n  },\n  data() {\n    return {\n      checkIcon: require('@/assets/image/me/check1.png'),\n      currentIndex: null,\n      reasonData: [{\n        id: 1,\n        txt: this.$t('不想要了')\n      }, {\n        id: 2,\n        txt: this.$t('下错商品')\n      }, {\n        id: 3,\n        txt: this.$t('订单重复')\n      }, {\n        id: 4,\n        txt: this.$t('无法签收')\n      }, {\n        id: 5,\n        txt: this.$t('其他原因')\n      }]\n    };\n  },\n  methods: {\n    cancelHandle() {\n      _Dialog.confirm({\n        title: this.$t('提示'),\n        message: this.$t('确认取消吗？'),\n        confirmButtonText: this.$t('确认'),\n        cancelButtonText: this.$t('取消')\n      }).then(() => {\n        _Toast.loading({\n          duration: 0,\n          message: this.$t('提交中'),\n          forbidClick: true\n        });\n        const params = {\n          orderId: this.dialogData.id,\n          returnReason: this.reasonData[this.currentIndex].id\n        };\n        orderCancel(params).then(() => {\n          _Toast.clear();\n          this.$emit('update:dialogShow', false);\n          this.$emit('done', false);\n        }).catch(() => {\n          _Toast.clear();\n        });\n      }).catch(() => {\n        this.$emit('update:dialogShow', false);\n      });\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}