{"ast":null,"code":"import \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\nimport { priceFormat } from '@/utils/utis';\nimport { orderReturns } from '@/API/user';\nexport default {\n  name: 'OrderRefund',\n  components: {\n    [_NavBar.name]: _NavBar,\n    [_Toast.name]: _Toast\n  },\n  data() {\n    return {\n      optionsData: [{\n        value: '1',\n        label: this.$t('未收到货')\n      }, {\n        value: '2',\n        label: this.$t('不喜欢，不想要')\n      }, {\n        value: '3',\n        label: this.$t('卖家发错货')\n      }, {\n        value: '4',\n        label: this.$t('假冒品牌')\n      }, {\n        value: '5',\n        label: this.$t('少发、漏发')\n      }, {\n        value: '6',\n        label: this.$t('收到商品破损')\n      }, {\n        value: '7',\n        label: this.$t('存在质量问题')\n      }, {\n        value: '8',\n        label: this.$t('与商家协商一致退款')\n      }, {\n        value: '9',\n        label: this.$t('其他原因')\n      }],\n      orderId: null,\n      priceFormat,\n      formData: {\n        returnReason: '',\n        money: 0,\n        returnDetail: ''\n      }\n    };\n  },\n  mounted() {\n    this.$nextTick(() => {\n      const {\n        id,\n        a\n      } = this.$route.query;\n      if (id && (a || a === 0)) {\n        this.orderId = id;\n        this.formData.money = this.priceFormat(a);\n      } else {\n        _Toast(this.$t('订单号不存在'));\n        setTimeout(() => {\n          this.$router.back();\n        }, 1500);\n      }\n    });\n  },\n  methods: {\n    submitHandle() {\n      if (this.formData.returnReason === '') {\n        _Toast(this.$t('请选择') + this.$t('退款理由'));\n        return false;\n      }\n      //   if (this.formData.returnDetail === ''){\n      //     Toast(this.$t('请输入') + this.$t('退款说明'));\n      //     return false\n      //   }\n\n      _Toast.loading({\n        duration: 0,\n        message: this.$t('提交中'),\n        forbidClick: true\n      });\n      const params = {\n        orderId: this.orderId,\n        ...this.formData\n      };\n      orderReturns(params).then(res => {\n        if (res == 'err403') return _Toast.clear();\n        _Toast(this.$t('提交成功'));\n        setTimeout(() => {\n          this.$router.back();\n        }, 1500);\n      }).catch(err => {\n        console.log(`err ::->`, err);\n        _Toast.clear();\n      });\n    }\n  }\n};","map":{"version":3,"names":["priceFormat","orderReturns","name","components","_NavBar","_Toast","data","optionsData","value","label","$t","orderId","formData","returnReason","money","returnDetail","mounted","$nextTick","id","a","$route","query","setTimeout","$router","back","methods","submitHandle","loading","duration","message","forbidClick","params","then","res","clear","catch","err","console","log"],"sources":["src/page/Order/Refund/index.vue"],"sourcesContent":["<template>\n  <div class=\"page-content\">\n    <van-nav-bar safe-area-inset-top\n      fixed\n      :title=\"$t('退款申请')\"\n      left-arrow\n      @click-left=\"() => $router.back()\"\n    />\n    <div style=\"width: 100%;\" class=\"h46\"></div>\n\n    <div class=\"nr\">\n      <div class=\"biaoti\">{{ $t('退款理由') }}</div>\n      <div class=\"shuru\">\n        <el-select v-model=\"formData.returnReason\" :placeholder=\"$t('请选择')\" style=\"width: 100%;\">\n          <el-option\n            v-for=\"item in optionsData\"\n            :key=\"item.value\"\n            :label=\"item.label\"\n            :value=\"item.value\"\n          />\n        </el-select>\n      </div>\n\n      <div class=\"biaoti\">{{ $t('退款金额') }}</div>\n      <div class=\"shuru\">\n        <el-input\n          v-model=\"formData.money\"\n          disabled\n        />\n      </div>\n\n      <div class=\"biaoti\">{{ $t('退款说明') }}</div>\n      <div class=\"shuru\">\n        <el-input\n          type=\"textarea\"\n          :rows=\"3\"\n          maxlength=\"120\" show-word-limit\n          :placeholder=\"$t('请输入')\"\n          v-model=\"formData.returnDetail\"\n        />\n      </div>\n\n      <div class=\"tijiao\" @click=\"submitHandle\">{{ $t('提交') }}</div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport {NavBar, Toast} from 'vant'\nimport {priceFormat} from '@/utils/utis'\nimport {\n  orderReturns\n} from '@/API/user'\nexport default {\n  name: 'OrderRefund',\n  components: {\n    [NavBar.name]:NavBar,\n    [Toast.name]:Toast\n  },\n  data() {\n    return {\n      optionsData: [\n        {\n          value: '1',\n          label: this.$t('未收到货')\n        },\n        {\n          value: '2',\n          label: this.$t('不喜欢，不想要')\n        },\n        {\n          value: '3',\n          label: this.$t('卖家发错货')\n        },\n        {\n          value: '4',\n          label: this.$t('假冒品牌')\n        },\n        {\n          value: '5',\n          label: this.$t('少发、漏发')\n        },\n        {\n          value: '6',\n          label: this.$t('收到商品破损')\n        },\n        {\n          value: '7',\n          label: this.$t('存在质量问题')\n        },\n        {\n          value: '8',\n          label: this.$t('与商家协商一致退款')\n        },\n        {\n          value: '9',\n          label: this.$t('其他原因')\n        }\n      ],\n      orderId: null,\n      priceFormat,\n      formData: {\n        returnReason: '',\n        money: 0,\n        returnDetail: ''\n      }\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      const { id, a } = this.$route.query\n      if (id && (a || a === 0)) {\n        this.orderId = id\n        this.formData.money = this.priceFormat(a)\n      } else {\n        Toast(this.$t('订单号不存在'))\n        setTimeout(() => {\n          this.$router.back()\n        }, 1500);\n      }\n    })\n  },\n  methods: {\n    submitHandle() {\n      if (this.formData.returnReason === ''){\n        Toast(this.$t('请选择') + this.$t('退款理由'));\n        return false\n      }\n    //   if (this.formData.returnDetail === ''){\n    //     Toast(this.$t('请输入') + this.$t('退款说明'));\n    //     return false\n    //   }\n      \n      Toast.loading({\n        duration: 0,\n        message: this.$t('提交中'),\n        forbidClick: true\n      })\n\n      const params = {\n        orderId: this.orderId,\n        ...this.formData\n      }\n\n      orderReturns(params).then((res) => {\n        if(res == 'err403') return Toast.clear()\n        Toast(this.$t('提交成功'))\n        setTimeout(() => {\n          this.$router.back()\n        }, 1500);\n      }).catch((err) => {\n        console.log(`err ::->`, err);\n        Toast.clear()\n      })\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.el-select-dropdown__item.selected {\n  color: var(--main-color) !important;\n}\n.page-content {\n  * {\n    box-sizing: border-box;\n  }\n  /deep/ .el-input {\n    input:focus {\n      border-color: var(--main-color) !important;\n    }\n  }\n\n  /deep/ .el-textarea {\n    textarea:focus {\n      border-color: var(--main-color) !important;\n    }\n  }\n\n  .nr {\n    width: 100%;\n    padding: 0 15px;\n    box-sizing: border-box;\n\n    /deep/ .el-select .el-input.is-focus .el-input__inner {\n      border-color: var(--main-color) !important;\n    }\n    .biaoti{\n      margin-top: 20px;\n      font-style: normal;\n      font-weight: 400;\n      font-size: 12px;\n      line-height: 16px;\n      color: #333333;\n    }\n\n    .shuru{\n      width: 100%;\n      margin-top: 5px;\n    }\n\n    .tijiao{\n      margin-top: 40px;\n      width: 100%;\n      height: 44px;\n      background: var(--main-color);\n      border-radius: 4px;\n      font-style: normal;\n      font-weight: 400;\n      font-size: 16px;\n      line-height: 44px;\n      /* identical to box height, or 100% */\n\n      text-align: center;\n\n      color: #FFFFFF;\n    }\n  }\n}\n</style>\n"],"mappings":";;;;AAiDA,SAAAA,WAAA;AACA,SACAC,YAAA,QACA;AACA;EACAC,IAAA;EACAC,UAAA;IACA,CAAAC,OAAA,CAAAF,IAAA,GAAAE,OAAA;IACA,CAAAC,MAAA,CAAAH,IAAA,GAAAG;EACA;EACAC,KAAA;IACA;MACAC,WAAA,GACA;QACAC,KAAA;QACAC,KAAA,OAAAC,EAAA;MACA,GACA;QACAF,KAAA;QACAC,KAAA,OAAAC,EAAA;MACA,GACA;QACAF,KAAA;QACAC,KAAA,OAAAC,EAAA;MACA,GACA;QACAF,KAAA;QACAC,KAAA,OAAAC,EAAA;MACA,GACA;QACAF,KAAA;QACAC,KAAA,OAAAC,EAAA;MACA,GACA;QACAF,KAAA;QACAC,KAAA,OAAAC,EAAA;MACA,GACA;QACAF,KAAA;QACAC,KAAA,OAAAC,EAAA;MACA,GACA;QACAF,KAAA;QACAC,KAAA,OAAAC,EAAA;MACA,GACA;QACAF,KAAA;QACAC,KAAA,OAAAC,EAAA;MACA,EACA;MACAC,OAAA;MACAX,WAAA;MACAY,QAAA;QACAC,YAAA;QACAC,KAAA;QACAC,YAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;MACA;QAAAC,EAAA;QAAAC;MAAA,SAAAC,MAAA,CAAAC,KAAA;MACA,IAAAH,EAAA,KAAAC,CAAA,IAAAA,CAAA;QACA,KAAAR,OAAA,GAAAO,EAAA;QACA,KAAAN,QAAA,CAAAE,KAAA,QAAAd,WAAA,CAAAmB,CAAA;MACA;QACAd,MAAA,MAAAK,EAAA;QACAY,UAAA;UACA,KAAAC,OAAA,CAAAC,IAAA;QACA;MACA;IACA;EACA;EACAC,OAAA;IACAC,aAAA;MACA,SAAAd,QAAA,CAAAC,YAAA;QACAR,MAAA,MAAAK,EAAA,eAAAA,EAAA;QACA;MACA;MACA;MACA;MACA;MACA;;MAEAL,MAAA,CAAAsB,OAAA;QACAC,QAAA;QACAC,OAAA,OAAAnB,EAAA;QACAoB,WAAA;MACA;MAEA,MAAAC,MAAA;QACApB,OAAA,OAAAA,OAAA;QACA,QAAAC;MACA;MAEAX,YAAA,CAAA8B,MAAA,EAAAC,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,qBAAA5B,MAAA,CAAA6B,KAAA;QACA7B,MAAA,MAAAK,EAAA;QACAY,UAAA;UACA,KAAAC,OAAA,CAAAC,IAAA;QACA;MACA,GAAAW,KAAA,CAAAC,GAAA;QACAC,OAAA,CAAAC,GAAA,aAAAF,GAAA;QACA/B,MAAA,CAAA6B,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}