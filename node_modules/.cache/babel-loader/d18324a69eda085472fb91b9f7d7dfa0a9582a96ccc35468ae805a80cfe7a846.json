{"ast":null,"code":"export default {\n  name: \"FloatingVideo\",\n  data() {\n    return {\n      isPackup: false,\n      isShow: true,\n      isPlay: false\n    };\n  },\n  computed: {\n    audioPlay() {\n      return this.$store.state.app.audioPlay;\n    }\n  },\n  methods: {\n    packupVideoBox() {\n      this.$el.style.transition = 'all .3s ease-in-out';\n      if (this.isPackup) {\n        this.$el.style.right = '0';\n        this.$el.style.height = '50vw';\n      } else {\n        this.$refs.videoRef.pause();\n        this.$store.state.app.audioPlay = true;\n        this.$el.style.right = '-93vw';\n        this.$el.style.height = '10vw';\n      }\n      this.isPackup = !this.isPackup;\n    },\n    handleVideoPlay() {\n      this.$store.state.app.audioPlay = false;\n      this.$refs.videoRef.play();\n      this.isPlay = true;\n    }\n  },\n  mounted() {\n    if (sessionStorage.getItem(\"expand_video\")) {\n      this.isPackup = true;\n      this.$el.style.transition = 'none';\n      this.$el.style.right = '-93vw';\n      this.$el.style.height = '10vw';\n    } else {\n      sessionStorage.setItem(\"expand_video\", '1');\n    }\n    this.$nextTick(() => {\n      if (this.isPackup) return;\n      this.$refs.videoRef.muted = true;\n      this.$refs.videoRef.play();\n      this.isPlay = true;\n    });\n  }\n};","map":{"version":3,"names":["name","data","isPackup","isShow","isPlay","computed","audioPlay","$store","state","app","methods","packupVideoBox","$el","style","transition","right","height","$refs","videoRef","pause","handleVideoPlay","play","mounted","sessionStorage","getItem","setItem","$nextTick","muted"],"sources":["src/components/FloatingVideo/index.vue"],"sourcesContent":["<template>\n    <div class=\"floating_video\" v-if=\"isShow\">\n        <div class=\"left\" @click=\"packupVideoBox\">\n            <img :class=\"isPackup && 'packup'\" src=\"@/assets/image/laqi.svg\" alt=\"\">\n        </div>\n        <div class=\"right\">\n            <img v-show=\"!isPlay\" class=\"cover\" src=\"@/assets/image/fengmian.png\" alt=\"\">\n            <video controls src=\"https://argos-shop-online.s3.amazonaws.com/pachong/videoplayback.mp4\" ref=\"videoRef\"></video>\n            <img v-show=\"!isPlay\" @click=\"handleVideoPlay\" class=\"play\" src=\"@/assets/image/play.svg\" alt=\"\">\n            <img @click=\"isShow = false\" class=\"close\" src=\"@/assets/image/close.svg\" alt=\"\">\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: \"FloatingVideo\",\n    data() {\n        return {\n            isPackup: false,\n            isShow: true,\n            isPlay: false,\n\n        }\n    },\n    computed: {\n        audioPlay() {\n            return this.$store.state.app.audioPlay\n        }\n    },\n    methods: {\n        packupVideoBox() {\n            this.$el.style.transition = 'all .3s ease-in-out'\n            if (this.isPackup) {\n                this.$el.style.right = '0';\n                this.$el.style.height = '50vw';\n            } else {\n                this.$refs.videoRef.pause();\n                this.$store.state.app.audioPlay = true\n                this.$el.style.right = '-93vw';\n                this.$el.style.height = '10vw';\n            }\n            this.isPackup = !this.isPackup;\n        },\n        handleVideoPlay() {\n            this.$store.state.app.audioPlay = false\n            this.$refs.videoRef.play();\n            this.isPlay = true;\n        }\n    },\n    mounted() {\n        if(sessionStorage.getItem(\"expand_video\")) {\n            this.isPackup = true;\n            this.$el.style.transition = 'none'\n            this.$el.style.right = '-93vw';\n            this.$el.style.height = '10vw';\n        } else {\n            sessionStorage.setItem(\"expand_video\", '1');\n        }\n        this.$nextTick(() => {\n            if(this.isPackup) return\n            this.$refs.videoRef.muted = true;\n            this.$refs.videoRef.play();\n            this.isPlay = true;\n        })\n        \n    }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.floating_video {\n    position: fixed;\n    top: 55%;\n    right: 0;\n    transform: translateY(-50%);\n    width: 100vw;\n    height: 50vw;\n    background: #eee;\n    border-radius: 8px;\n    z-index: 999;\n    font-size: 14px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 7px 8px 7px 4px;\n    transition: all .3s ease-in-out;\n    \n    .left {\n        flex: 0 0 10%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        img {\n            width: 20px;\n            height: 20px;\n\n            &.packup {\n                transform: rotate(180deg);\n            }\n        }\n    }\n\n    .right {\n        flex: 0 0 90%;\n        height: 100%;\n        position: relative;\n        border-radius: 8px;\n        overflow: hidden;\n\n        video {\n            width: 100%;\n            height: 100%;\n        }\n\n        .play {\n            position: absolute;\n            top: 50%;\n            left: 50%;\n            transform: translate(-50%, -50%);\n            width: 30px;\n            height: 30px;\n        }\n\n        .close {\n            position: absolute;\n            top: 5px;\n            right: 5px;\n            width: 15px;\n            height: 15px;\n        }\n\n        .cover {\n            width: 100%;\n            height: 100%;\n        }\n    }\n}</style>"],"mappings":"AAeA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,MAAA;MACAC,MAAA;IAEA;EACA;EACAC,QAAA;IACAC,UAAA;MACA,YAAAC,MAAA,CAAAC,KAAA,CAAAC,GAAA,CAAAH,SAAA;IACA;EACA;EACAI,OAAA;IACAC,eAAA;MACA,KAAAC,GAAA,CAAAC,KAAA,CAAAC,UAAA;MACA,SAAAZ,QAAA;QACA,KAAAU,GAAA,CAAAC,KAAA,CAAAE,KAAA;QACA,KAAAH,GAAA,CAAAC,KAAA,CAAAG,MAAA;MACA;QACA,KAAAC,KAAA,CAAAC,QAAA,CAAAC,KAAA;QACA,KAAAZ,MAAA,CAAAC,KAAA,CAAAC,GAAA,CAAAH,SAAA;QACA,KAAAM,GAAA,CAAAC,KAAA,CAAAE,KAAA;QACA,KAAAH,GAAA,CAAAC,KAAA,CAAAG,MAAA;MACA;MACA,KAAAd,QAAA,SAAAA,QAAA;IACA;IACAkB,gBAAA;MACA,KAAAb,MAAA,CAAAC,KAAA,CAAAC,GAAA,CAAAH,SAAA;MACA,KAAAW,KAAA,CAAAC,QAAA,CAAAG,IAAA;MACA,KAAAjB,MAAA;IACA;EACA;EACAkB,QAAA;IACA,IAAAC,cAAA,CAAAC,OAAA;MACA,KAAAtB,QAAA;MACA,KAAAU,GAAA,CAAAC,KAAA,CAAAC,UAAA;MACA,KAAAF,GAAA,CAAAC,KAAA,CAAAE,KAAA;MACA,KAAAH,GAAA,CAAAC,KAAA,CAAAG,MAAA;IACA;MACAO,cAAA,CAAAE,OAAA;IACA;IACA,KAAAC,SAAA;MACA,SAAAxB,QAAA;MACA,KAAAe,KAAA,CAAAC,QAAA,CAAAS,KAAA;MACA,KAAAV,KAAA,CAAAC,QAAA,CAAAG,IAAA;MACA,KAAAjB,MAAA;IACA;EAEA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}