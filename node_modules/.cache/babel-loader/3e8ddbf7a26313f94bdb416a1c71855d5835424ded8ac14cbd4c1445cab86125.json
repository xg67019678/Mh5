{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapMutations } from 'vuex';\nimport Loading from '@/components/Loading/index.vue';\nexport default {\n  //   name: \"iframe\",\n  components: {\n    Loading\n  },\n  data() {\n    return {\n      itemName: process.env.VUE_APP_ITEM_NAME,\n      url: \"\",\n      title: \"\",\n      paths: {\n        'Argos': 'https://argos.me/',\n        'MetaShop': 'https://e-metashop.com/',\n        'Tongda': 'https://www.tongdashops.com/',\n        'FamilyMart': 'https://familymartex.com/',\n        'FamilyShop': 'https://www.familyshopex.com/',\n        'Inchoi': 'https://Inchoishop.com/',\n        'Hive': 'https://www.hivemalls.com/',\n        'TikTokMall': 'https://tiktokmallin.com/',\n        'Shop2u': 'https://shop2u.co/',\n        'EShop': 'https://ml.thsjbvh.site/',\n        'GreenMall': 'https://djeion.com/',\n        'SM-wholesaleShop': 'https://justshopmall.com/',\n        'ArgosShop': 'https://argosshoppro.com/',\n        'Iceland': 'https://icelandmarts.com/',\n        'INT Overstock': 'https://overstock8.me/',\n        'TikTok-Wholesale': 'https://tiktok-wholesale.com/',\n        'AntMall': 'https://antmallin.com/'\n      },\n      loadingShow: true\n    };\n  },\n  mounted() {\n    this.url = this.$route.query.url;\n    this.title = this.$route.query.title;\n    if (this.title == '') {\n      this.title = this.$route.query.title;\n    } else if (this.title == this.$t('商家入驻')) {\n      let lang = localStorage.getItem(\"lang\") || \"en\";\n      lang = lang.replace(/\"/g, \"\");\n      let path = '';\n      if (['INT Overstock'].includes(this.itemName)) {\n        path = this.$store.state.app.app_domain;\n      } else {\n        path = window?.plus ? this.$store.state.app.app_domain : location.origin + '/';\n      }\n      // let path = 'http://127.0.0.1:8090/'\n      if (location.origin.indexOf('localhost') > -1) {\n        path = 'https://thsjbvh.site/';\n      }\n      const url = encodeURI(`${path}promote/#/?lang=${lang}&avatar=${this.userInfo?.avatar || 1}`);\n      // const url = encodeURI(`https://argos.me/promote/#/shippingPolicy?lang=cn`)\n      this.url = url;\n    }\n    var me_frame = document.createElement(\"iframe\");\n    me_frame.src = this.url;\n    me_frame.scrolling = \"auto\";\n    me_frame.frameborder = \"0\";\n    me_frame.className = \"nq-ys iframe\";\n    me_frame.style = \"margin-top: 45px;width: 100%;height: 100%;-webkit-overflow-scrolling: touch;border: none;padding: 0;margin: 0;overflow: hidden;\";\n\n    // const me_frame = document.getElementById('me_frame');\n    if (me_frame.attachEvent) {\n      me_frame.attachEvent(\"onload\", () => {\n        this.loadingShow = false;\n      });\n    } else {\n      me_frame.onload = () => {\n        this.loadingShow = false;\n      };\n    }\n    const iframe_box = document.getElementsByClassName('iframe-main')[0];\n    iframe_box.appendChild(me_frame);\n    setTimeout(() => {\n      this.loadingShow = false;\n    }, 20000);\n    window.addEventListener('message', e => {\n      if (e.data?.lang && this.title == this.$t('商家入驻')) {\n        if (e.data?.lang == 'en-US') {\n          this.$i18n.locale = 'en';\n          this.setLanguage('en');\n        } else if (e.data?.lang == 'CN') {\n          this.$i18n.locale = 'tw';\n          this.setLanguage('tw');\n        } else if (e.data?.lang == 'zh-CN') {\n          this.$i18n.locale = 'cn';\n          this.setLanguage('cn');\n        } else {\n          this.$i18n.locale = e.data?.lang;\n          this.setLanguage(e.data?.lang);\n        }\n        this.$nextTick(() => {\n          this.title = this.$t('商家入驻');\n        });\n      }\n      if (e.data == 'jump') {\n        if (window?.plus) {\n          plus.runtime.openURL(encodeURI(this.$store.state.app.app_domain + 'ww'));\n          // location.href = location.origin + '/ww'\n        } else {\n          const qs = `?from=shop&lang=${localStorage.getItem('lang')}&token=${localStorage.getItem('token')}`;\n          location.href = location.origin + '/www' + qs;\n        }\n      }\n    });\n  },\n  methods: {\n    ...mapMutations([\"setLanguage\"]),\n    onClickLeft() {\n      const formPath = this.$router.go(-1);\n      if (formPath) {\n        this.$router.go(-1);\n      } else {\n        this.$router.push('/home');\n      }\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}