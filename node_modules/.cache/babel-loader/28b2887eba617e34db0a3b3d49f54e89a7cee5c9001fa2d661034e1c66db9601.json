{"ast":null,"code":"import \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"vant/es/popup/style\";\nimport _popup from \"vant/es/popup\";\nimport \"vant/es/empty/style\";\nimport _Empty from \"vant/es/empty\";\nimport \"vant/es/picker/style\";\nimport _Picker from \"vant/es/picker\";\nimport \"vant/es/icon/style\";\nimport _Icon from \"vant/es/icon\";\nimport \"vant/es/pull-refresh/style\";\nimport _PullRefresh from \"vant/es/pull-refresh\";\nimport \"vant/es/list/style\";\nimport _List from \"vant/es/list\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\nimport \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.reduce.js\";\nimport { chongzhijilu_post } from \"@/API/user\";\nimport { priceFormat } from '@/utils/utis';\nexport default {\n  data() {\n    return {\n      list: [],\n      loading: false,\n      finished: false,\n      refreshing: false,\n      page_no: 0,\n      content_type: 'brokerage',\n      // columns: [this.$t('全部'), this.$t('recharge'), this.$t('withdraw'), this.$t('brokerage'), this.$t('sys-increment'), this.$t('sys-decrement'), this.$t('vip-recharge'), this.$t('freeze-order'), this.$t('unfreeze-order'), this.$t('pay-order'), this.$t('bonus')],\n      columns2: ['', 'recharge', 'withdraw', 'brokerage', 'sys-increment', 'sys-decrement', 'vip-recharge', 'freeze-order', 'unfreeze-order', 'pay-order', 'bonus'],\n      showPicker: false,\n      shaixuan_index: 0,\n      priceFormat\n    };\n  },\n  components: {\n    [_NavBar.name]: _NavBar,\n    [_List.name]: _List,\n    [_PullRefresh.name]: _PullRefresh,\n    [_Icon.name]: _Icon,\n    [_Picker.name]: _Picker,\n    [_Empty.name]: _Empty,\n    [_popup.name]: _popup\n  },\n  created() {\n    // this.libiao_post()\n  },\n  methods: {\n    copyData(ea) {\n      //如果需要回调：\n      this.$copyText(ea).then(e => {\n        _Toast(this.$t('复制成功'));\n        console.log(e);\n      }, function (e) {\n        _Toast(this.$t('复制失败'));\n        console.log(e);\n      });\n    },\n    onConfirm(value, index) {\n      this.content_type = this.columns2[index];\n      this.page_no = 0;\n      this.finished = false;\n      this.libiao_post();\n      this.showPicker = false;\n      this.list = [];\n      // Toast(`当前值：${value}, 当前索引：${index}`);\n    },\n    onChange(picker, value, index) {\n      // Toast(`当前值：${value}, 当前索引：${index}`);\n      console.log(picker, value, index);\n    },\n    onCancel() {\n      this.showPicker = false;\n      // Toast('取消');\n    },\n    onClickRight() {\n      this.showPicker = true;\n    },\n    libiao_post() {\n      this.page_no++;\n      chongzhijilu_post({\n        page_no: this.page_no\n      }).then(res => {\n        // console.log(res)\n        // for (let i = 0; i < res.length; i++) {\n        //   this.list.push(res[i]);\n        // }\n        if (res.elements.length == 0) {\n          this.finished = true;\n        } else {\n          this.loading = false;\n          this.list = [...this.list, ...res.elements];\n        }\n        var obj = {};\n        this.list = this.list.reduce((prev, cur) => {\n          obj[cur.order_no] ? \"\" : obj[cur.order_no] = true && prev.push(cur);\n          return prev;\n        }, []);\n        console.log(`this.list ::->`, this.list);\n      });\n    },\n    onClickLeft() {\n      this.$router.push({\n        path: '/rechargeList',\n        dir: 'left'\n      });\n    },\n    onLoad() {\n      if (this.refreshing) {\n        this.list = [];\n        this.refreshing = false;\n      }\n      this.libiao_post();\n    },\n    onRefresh() {\n      // 清空列表数据\n      this.finished = false;\n      this.page_no = 0;\n      // 重新加载数据\n      // 将 loading 设置为 true，表示处于加载状态\n      this.loading = true;\n      this.onLoad();\n    },\n    openDeital(order_no, failure_msg) {\n      this.$router.push({\n        path: '/rechargeRecordDetails',\n        query: {\n          order_no,\n          failure_msg\n        }\n      });\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}