{"ast":null,"code":"import { gerenxinxi_post, huoquyue_post } from \"@/API/user\";\nexport default {\n  state: {\n    userInfo: null,\n    userMoney: null\n  },\n  getters: {\n    userInfo: state => {\n      return state.userInfo;\n    },\n    userMoney: state => {\n      return state.userMoney;\n    }\n  },\n  mutations: {\n    SET_USERINFO: (state, info) => {\n      state.userInfo = info;\n    },\n    SET_USERMONEY: (state, money) => {\n      state.userMoney = money;\n    }\n  },\n  actions: {\n    getUserInfo({\n      commit\n    }) {\n      const TOKEN = localStorage.getItem('token');\n      return new Promise((resovle, reject) => {\n        if (TOKEN) {\n          gerenxinxi_post({}).then(res => {\n            commit('SET_USERINFO', res);\n            resovle(res);\n          }).catch(() => {\n            commit('SET_USERINFO', null);\n            localStorage.removeItem('token');\n            reject('fetch error');\n          });\n        } else {\n          commit('SET_USERINFO', null);\n          resovle('clear userinfo');\n        }\n      });\n    },\n    getUserMoney({\n      commit\n    }) {\n      const TOKEN = localStorage.getItem('token');\n      return new Promise((resovle, reject) => {\n        if (TOKEN) {\n          huoquyue_post().then(res => {\n            commit('SET_USERMONEY', res);\n            resovle(res);\n          }).catch(() => {\n            commit('SET_USERMONEY', null);\n            reject('fetch error');\n          });\n        } else {\n          commit('SET_USERMONEY', null);\n          resovle('clear userMoney');\n        }\n      });\n    },\n    logout({\n      commit\n    }) {\n      commit('SET_USERINFO', null);\n      localStorage.removeItem('token');\n      localStorage.removeItem('productList');\n      localStorage.removeItem('cartList');\n    }\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}