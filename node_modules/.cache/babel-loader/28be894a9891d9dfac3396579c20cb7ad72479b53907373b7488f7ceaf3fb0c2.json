{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nconst getStorgeSearchData = () => {\n  const storgeData = localStorage.getItem('searchHistory');\n  return storgeData && storgeData.length ? JSON.parse(storgeData) : [];\n};\nconst hasInArr = (arr, val) => {\n  if (arr.length) {\n    for (let i = 0; i < arr.length; i++) {\n      if (arr[i].goodsId === val.goodsId) {\n        return true;\n      }\n    }\n    return false;\n  } else {\n    return false;\n  }\n};\nexport default {\n  state: {\n    searchHistory: [],\n    audioPlay: true,\n    app_domain: ''\n  },\n  getters: {\n    searchHistory: state => {\n      return state.searchHistory.length ? state.searchHistory : getStorgeSearchData();\n    }\n  },\n  mutations: {\n    SET_SEARCH_HISTORY: (state, arr) => {\n      const arrStr = JSON.stringify(arr);\n      state.searchHistory = arr;\n      localStorage.setItem('searchHistory', arrStr);\n    },\n    CLEAR_SEARCH_HISTORY: state => {\n      state.searchHistory = [];\n      localStorage.removeItem('searchHistory');\n    }\n  },\n  actions: {\n    setSearchHistory: ({\n      commit,\n      state\n    }, val) => {\n      const storeData = state.searchHistory.length ? state.searchHistory : getStorgeSearchData();\n      const data = [...storeData];\n      if (!hasInArr(storeData, val)) {\n        data.push(val);\n      }\n      commit('SET_SEARCH_HISTORY', data);\n    },\n    clearSearchHistory: ({\n      commit\n    }) => {\n      commit('CLEAR_SEARCH_HISTORY');\n    }\n  }\n};","map":{"version":3,"names":["getStorgeSearchData","storgeData","localStorage","getItem","length","JSON","parse","hasInArr","arr","val","i","goodsId","state","searchHistory","audioPlay","app_domain","getters","mutations","SET_SEARCH_HISTORY","arrStr","stringify","setItem","CLEAR_SEARCH_HISTORY","removeItem","actions","setSearchHistory","commit","storeData","data","push","clearSearchHistory"],"sources":["C:/Users/xg670/Desktop/运行/mmh5/src/store/modules/app.js"],"sourcesContent":["const getStorgeSearchData = () => {\n  const storgeData = localStorage.getItem('searchHistory')\n  return (storgeData && storgeData.length) ? JSON.parse(storgeData) : []\n}\n\nconst hasInArr = (arr, val) => {\n  if (arr.length) {\n    for (let i = 0; i < arr.length; i++) {\n      if (arr[i].goodsId === val.goodsId) {\n        return true\n      }\n    }\n    return false\n  } else {\n    return false\n  }\n}\n\nexport default {\n  state: {\n    searchHistory: [],\n    audioPlay: true,\n    app_domain: ''\n  },\n  getters: {\n    searchHistory: (state) => {\n      return state.searchHistory.length ? state.searchHistory : getStorgeSearchData()\n    }\n  },\n  mutations: {\n    SET_SEARCH_HISTORY: (state, arr) => {\n      const arrStr = JSON.stringify(arr)\n      state.searchHistory = arr\n      localStorage.setItem('searchHistory', arrStr)\n    },\n    CLEAR_SEARCH_HISTORY: (state) => {\n      state.searchHistory = []\n      localStorage.removeItem('searchHistory')\n    }\n  },\n  actions: {\n    setSearchHistory: ({commit, state}, val) => {\n      const storeData = state.searchHistory.length ? state.searchHistory : getStorgeSearchData()\n      const data = [...storeData]\n      if (!hasInArr(storeData, val)) {\n        data.push(val)\n      }\n      commit('SET_SEARCH_HISTORY', data)\n    },\n    clearSearchHistory: ({commit}) => {\n      commit('CLEAR_SEARCH_HISTORY')\n    }\n  }\n}\n"],"mappings":";AAAA,MAAMA,mBAAmB,GAAGA,CAAA,KAAM;EAChC,MAAMC,UAAU,GAAGC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC;EACxD,OAAQF,UAAU,IAAIA,UAAU,CAACG,MAAM,GAAIC,IAAI,CAACC,KAAK,CAACL,UAAU,CAAC,GAAG,EAAE;AACxE,CAAC;AAED,MAAMM,QAAQ,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC7B,IAAID,GAAG,CAACJ,MAAM,EAAE;IACd,KAAK,IAAIM,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,GAAG,CAACJ,MAAM,EAAEM,CAAC,EAAE,EAAE;MACnC,IAAIF,GAAG,CAACE,CAAC,CAAC,CAACC,OAAO,KAAKF,GAAG,CAACE,OAAO,EAAE;QAClC,OAAO,IAAI;MACb;IACF;IACA,OAAO,KAAK;EACd,CAAC,MAAM;IACL,OAAO,KAAK;EACd;AACF,CAAC;AAED,eAAe;EACbC,KAAK,EAAE;IACLC,aAAa,EAAE,EAAE;IACjBC,SAAS,EAAE,IAAI;IACfC,UAAU,EAAE;EACd,CAAC;EACDC,OAAO,EAAE;IACPH,aAAa,EAAGD,KAAK,IAAK;MACxB,OAAOA,KAAK,CAACC,aAAa,CAACT,MAAM,GAAGQ,KAAK,CAACC,aAAa,GAAGb,mBAAmB,CAAC,CAAC;IACjF;EACF,CAAC;EACDiB,SAAS,EAAE;IACTC,kBAAkB,EAAEA,CAACN,KAAK,EAAEJ,GAAG,KAAK;MAClC,MAAMW,MAAM,GAAGd,IAAI,CAACe,SAAS,CAACZ,GAAG,CAAC;MAClCI,KAAK,CAACC,aAAa,GAAGL,GAAG;MACzBN,YAAY,CAACmB,OAAO,CAAC,eAAe,EAAEF,MAAM,CAAC;IAC/C,CAAC;IACDG,oBAAoB,EAAGV,KAAK,IAAK;MAC/BA,KAAK,CAACC,aAAa,GAAG,EAAE;MACxBX,YAAY,CAACqB,UAAU,CAAC,eAAe,CAAC;IAC1C;EACF,CAAC;EACDC,OAAO,EAAE;IACPC,gBAAgB,EAAEA,CAAC;MAACC,MAAM;MAAEd;IAAK,CAAC,EAAEH,GAAG,KAAK;MAC1C,MAAMkB,SAAS,GAAGf,KAAK,CAACC,aAAa,CAACT,MAAM,GAAGQ,KAAK,CAACC,aAAa,GAAGb,mBAAmB,CAAC,CAAC;MAC1F,MAAM4B,IAAI,GAAG,CAAC,GAAGD,SAAS,CAAC;MAC3B,IAAI,CAACpB,QAAQ,CAACoB,SAAS,EAAElB,GAAG,CAAC,EAAE;QAC7BmB,IAAI,CAACC,IAAI,CAACpB,GAAG,CAAC;MAChB;MACAiB,MAAM,CAAC,oBAAoB,EAAEE,IAAI,CAAC;IACpC,CAAC;IACDE,kBAAkB,EAAEA,CAAC;MAACJ;IAAM,CAAC,KAAK;MAChCA,MAAM,CAAC,sBAAsB,CAAC;IAChC;EACF;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}