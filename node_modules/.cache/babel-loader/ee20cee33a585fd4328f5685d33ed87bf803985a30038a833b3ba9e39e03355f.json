{"ast":null,"code":"import \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"vant/es/nav-bar/style\";\nimport _NavBar from \"vant/es/nav-bar\";\nimport { withdrawDetails } from \"@/API/user\";\nimport { priceFormat } from '@/utils/utis';\nexport default {\n  name: 'withdrawRecordDetails',\n  components: {\n    [_NavBar.name]: _NavBar,\n    [_Toast.name]: _Toast\n  },\n  data() {\n    return {\n      pageDone: false,\n      orderNo: null,\n      dataInfo: null,\n      priceFormat,\n      failureMsg: ''\n    };\n  },\n  mounted() {\n    this.$nextTick(() => {\n      const {\n        order_no,\n        failure_msg\n      } = this.$route.query;\n      if (order_no) {\n        this.orderNo = order_no;\n        this.failureMsg = failure_msg;\n        this.getDataInfo();\n      } else {\n        _Toast(this.$t('订单号不存在'));\n      }\n    });\n  },\n  methods: {\n    onClickLeft() {\n      this.$router.go(-1);\n    },\n    copyData(ea) {\n      this.$copyText(ea).then(() => {\n        _Toast(this.$t('复制成功'));\n      }, () => {\n        _Toast(this.$t('复制失败'));\n      });\n    },\n    getDataInfo() {\n      _Toast.loading({\n        duration: 0,\n        message: this.$t('请求中')\n      });\n      withdrawDetails({\n        order_no: this.orderNo\n      }).then(res => {\n        res.stateStr = '';\n        res.className = '';\n        if (res.state === 0) {\n          res.stateStr = this.$t('处理中');\n        }\n        if (res.state === 1) {\n          res.className = 'success';\n          res.stateStr = this.$t('成功');\n        }\n        if (res.state === 2) {\n          res.className = 'fail';\n          res.stateStr = this.$t('失败');\n        }\n        this.dataInfo = res;\n        this.pageDone = true;\n        _Toast.clear();\n      }).catch(err => {\n        // Toast(err.msg)\n        _Toast.clear();\n      });\n    }\n  }\n};","map":{"version":3,"names":["withdrawDetails","priceFormat","name","components","_NavBar","_Toast","data","pageDone","orderNo","dataInfo","failureMsg","mounted","$nextTick","order_no","failure_msg","$route","query","getDataInfo","$t","methods","onClickLeft","$router","go","copyData","ea","$copyText","then","loading","duration","message","res","stateStr","className","state","clear","catch","err"],"sources":["src/page/withdraw/RecordDetails/index.vue"],"sourcesContent":["<template>\n    <div class=\"page-content\">\n        <van-nav-bar safe-area-inset-top fixed :title=\"$t('提现详情')\" left-arrow @click-left=\"onClickLeft\" />\n        <div style=\"width: 100%;\" class=\"h46\"></div>\n\n        <div v-if=\"pageDone && dataInfo\" class=\"info-content\">\n            <div class=\"order-info-content\">\n                <div class=\"item\">\n                    <p>{{ $t('订单号') }}：</p>\n                    <div class=\"copy\">\n                        <span>{{ dataInfo.order_no }}</span>\n                        <img @click=\"copyData(dataInfo.order_no)\" src=\"@/assets/image/me/fuzhi1.png\" />\n                    </div>\n                </div>\n                <div class=\"item\">\n                    <p>{{ $t('创建时间') }}：</p>\n                    <div>{{ dataInfo.create_time }}</div>\n                </div>\n                <div class=\"item\">\n                    <p>{{ $t('提现金额') }}：</p>\n                    <div class=\"money\">\n                    {{ ['BTC', 'ETH'].includes(dataInfo.coin) ? dataInfo.volume : priceFormat(dataInfo.volume)}}\n                    {{ dataInfo.coin_blockchain == 'bank' ? 'USD' : dataInfo.coin }}\n                    </div>\n                </div>\n                <div class=\"item\">\n                    <p>{{ $t('订单状态') }}：</p>\n                    <div class=\"money\" :class=\"dataInfo.className\">{{ dataInfo.stateStr }}</div>\n                </div>\n                <div class=\"item\" v-if=\"dataInfo.state == 2\">\n                    <p>{{ $t('失败原因') }}：</p>\n                    <div class=\"money\" :class=\"dataInfo.className\">{{ dataInfo.failureMsg || '--' }}</div>\n                </div>\n                <template v-if=\"dataInfo.coin_blockchain != 'bank'\">\n                    <div class=\"item\">\n                        <p>{{ $t('币种协议') }}：</p>\n                        <div>{{ dataInfo.coin_blockchain }}</div>\n                    </div>\n                    <div class=\"item\">\n                        <p>{{ $t('钱包地址') }}：</p>\n                        <div class=\"copy\">\n                            <span>{{ dataInfo.to }}</span>\n                            <img @click=\"copyData(dataInfo.to)\" src=\"@/assets/image/me/fuzhi1.png\" />\n                        </div>\n                    </div>\n                </template>\n                <template v-else>\n                    <div class=\"item\">\n                        <p>{{ $t('开户行') }}：</p>\n                        <div>{{ dataInfo.bank }}</div>\n                    </div>\n                    <div class=\"item\">\n                        <p>{{ $t('姓名') }}：</p>\n                        <div>{{ dataInfo.bankUserName }}</div>\n                    </div>\n                    <div class=\"item\">\n                        <p>{{ $t('卡号') }}：</p>\n                        <div class=\"copy\">\n                            <span>{{ dataInfo.bankCardNo }}</span>\n                            <img @click=\"copyData(dataInfo.bankCardNo)\" src=\"@/assets/image/me/fuzhi1.png\" />\n                        </div>\n                    </div>\n                </template>\n                <div class=\"item\">\n                    <p>{{ $t('手续费') }}：</p>\n                    <div>{{ priceFormat(dataInfo.fee) }} \n                        {{ dataInfo.coin_blockchain == 'bank' ? 'USD' : dataInfo.coin }}\n                    </div>\n                </div>\n                <div class=\"item\">\n                    <p>{{ $t('实际到账') }}：</p>\n                    <div v-if=\"$t('处理中') == dataInfo.stateStr\" class=\"money\">--</div>\n                    <div class=\"money\" v-else>{{ priceFormat(dataInfo.amount) }} \n                        {{ dataInfo.coin_blockchain == 'bank' ? 'USD' : 'USDT' }}\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport { NavBar, Toast } from 'vant';\nimport { withdrawDetails } from \"@/API/user\";\nimport { priceFormat } from '@/utils/utis'\nexport default {\n    name: 'withdrawRecordDetails',\n    components: {\n        [NavBar.name]: NavBar,\n        [Toast.name]: Toast\n    },\n    data() {\n        return {\n            pageDone: false,\n            orderNo: null,\n            dataInfo: null,\n            priceFormat,\n            failureMsg: ''\n        }\n    },\n    mounted() {\n        this.$nextTick(() => {\n            const { order_no, failure_msg } = this.$route.query\n            if (order_no) {\n                this.orderNo = order_no\n                this.failureMsg = failure_msg\n                this.getDataInfo()\n            } else {\n                Toast(this.$t('订单号不存在'));\n            }\n        })\n    },\n    methods: {\n        onClickLeft() {\n            this.$router.go(-1)\n        },\n        copyData(ea) {\n            this.$copyText(ea).then(() => {\n                Toast(this.$t('复制成功'))\n            }, () => {\n                Toast(this.$t('复制失败'))\n            })\n        },\n        getDataInfo() {\n            Toast.loading({\n                duration: 0,\n                message: this.$t('请求中')\n            })\n            withdrawDetails({ order_no: this.orderNo }).then(res => {\n                res.stateStr = ''\n                res.className = ''\n                if (res.state === 0) {\n                    res.stateStr = this.$t('处理中')\n                }\n                if (res.state === 1) {\n                    res.className = 'success'\n                    res.stateStr = this.$t('成功')\n                }\n                if (res.state === 2) {\n                    res.className = 'fail'\n                    res.stateStr = this.$t('失败')\n                }\n                this.dataInfo = res\n                this.pageDone = true\n                Toast.clear()\n            }).catch(err => {\n                // Toast(err.msg)\n                Toast.clear()\n            })\n        }\n    }\n}\n</script>\n<style lang=\"scss\" scoped>\n.page-content {\n    width: 100%;\n    min-height: 100%;\n    background: #F5F5F7;\n\n    * {\n        box-sizing: border-box;\n    }\n\n    .info-content {\n        padding: 10px 15px;\n\n        .order-info-content {\n            padding: 0 10px;\n            background-color: #fff;\n\n            >.item {\n                padding: 17px 0;\n                border-bottom: 1px solid #eee;\n                color: #000;\n                font-size: 14px;\n                display: flex;\n                justify-content: space-between;\n\n                >div {\n                    flex: 1;\n                    padding-left: 50px;\n                    text-align: end;\n\n                    &.copy {\n                        display: flex;\n                        justify-content: flex-end;\n\n                        >span {\n                            flex: 1;\n                            word-break: break-word;\n                        }\n\n                        >img {\n                            width: 10px;\n                            height: 10px;\n                            margin-left: 4px;\n                            position: relative;\n                            top: 3px;\n                        }\n                    }\n\n                    &.money {\n\n                        color: var(--main-color);\n                    }\n\n                    &.success {\n                        color: #0ECB81 !important;\n                    }\n\n                    &.fail {\n                        color: #FF4141 !important;\n                    }\n                }\n\n                &:last-child {\n                    border-bottom: 0;\n                }\n            }\n        }\n    }\n}\n</style>\n"],"mappings":";;;;AAkFA,SAAAA,eAAA;AACA,SAAAC,WAAA;AACA;EACAC,IAAA;EACAC,UAAA;IACA,CAAAC,OAAA,CAAAF,IAAA,GAAAE,OAAA;IACA,CAAAC,MAAA,CAAAH,IAAA,GAAAG;EACA;EACAC,KAAA;IACA;MACAC,QAAA;MACAC,OAAA;MACAC,QAAA;MACAR,WAAA;MACAS,UAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,SAAA;MACA;QAAAC,QAAA;QAAAC;MAAA,SAAAC,MAAA,CAAAC,KAAA;MACA,IAAAH,QAAA;QACA,KAAAL,OAAA,GAAAK,QAAA;QACA,KAAAH,UAAA,GAAAI,WAAA;QACA,KAAAG,WAAA;MACA;QACAZ,MAAA,MAAAa,EAAA;MACA;IACA;EACA;EACAC,OAAA;IACAC,YAAA;MACA,KAAAC,OAAA,CAAAC,EAAA;IACA;IACAC,SAAAC,EAAA;MACA,KAAAC,SAAA,CAAAD,EAAA,EAAAE,IAAA;QACArB,MAAA,MAAAa,EAAA;MACA;QACAb,MAAA,MAAAa,EAAA;MACA;IACA;IACAD,YAAA;MACAZ,MAAA,CAAAsB,OAAA;QACAC,QAAA;QACAC,OAAA,OAAAX,EAAA;MACA;MACAlB,eAAA;QAAAa,QAAA,OAAAL;MAAA,GAAAkB,IAAA,CAAAI,GAAA;QACAA,GAAA,CAAAC,QAAA;QACAD,GAAA,CAAAE,SAAA;QACA,IAAAF,GAAA,CAAAG,KAAA;UACAH,GAAA,CAAAC,QAAA,QAAAb,EAAA;QACA;QACA,IAAAY,GAAA,CAAAG,KAAA;UACAH,GAAA,CAAAE,SAAA;UACAF,GAAA,CAAAC,QAAA,QAAAb,EAAA;QACA;QACA,IAAAY,GAAA,CAAAG,KAAA;UACAH,GAAA,CAAAE,SAAA;UACAF,GAAA,CAAAC,QAAA,QAAAb,EAAA;QACA;QACA,KAAAT,QAAA,GAAAqB,GAAA;QACA,KAAAvB,QAAA;QACAF,MAAA,CAAA6B,KAAA;MACA,GAAAC,KAAA,CAAAC,GAAA;QACA;QACA/B,MAAA,CAAA6B,KAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}