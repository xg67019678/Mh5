{"ast":null,"code":"import \"vant/es/icon/style\";\nimport _Icon from \"vant/es/icon\";\nimport \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport \"core-js/modules/es.array.push.js\";\nimport Vcode from \"vue-puzzle-vcode\";\nimport loginAxios from \"@/API/login\";\nimport NationalityList from \"@/components/NationalityList\";\nimport { isLogin } from \"@/utils/utis\";\n// import LineLoginButton from \"../../components/LineLoginButton/LineLoginButton.vue\";\nimport TiktokLogin from \"../../components/TiktokLogin/TiktokLogin.vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"LoginPage\",\n  data() {\n    return {\n      isShelves: !process.env.VUE_APP_PUT_ON_SHELVES,\n      itemName: process.env.VUE_APP_ITEM_NAME,\n      TabShow: 2,\n      it: {\n        input1: \"\",\n        input2: \"\"\n      },\n      show: false,\n      img1: require(\"@/assets/image/slider/1.png\"),\n      img2: require(\"@/assets/image/slider/2.png\"),\n      img3: require(\"@/assets/image/slider/3.png\"),\n      img4: require(\"@/assets/image/slider/4.png\"),\n      img5: require(\"@/assets/image/slider/5.png\"),\n      triangleDown: require(\"@/assets/image/me/triangle_down.png\"),\n      pageDiaCode: false,\n      dialCode: 1\n    };\n  },\n  components: {\n    [_Toast.name]: _Toast,\n    [_Icon.name]: _Icon,\n    Vcode,\n    NationalityList,\n    // LineLoginButton,\n    TiktokLogin\n  },\n  created() {\n    if (isLogin() && this.$route.query.from == \"ldy\") {\n      this.$notify(this.$t(\"您已登录\"), \"success\");\n      this.$router.push({\n        path: \"/\"\n      });\n    }\n    const acc = JSON.parse(localStorage.getItem(\"ACCOUNT_INFO\"));\n    if (!acc) return;\n    this.TabShow = acc?.TabShow;\n    this.it.input1 = acc?.username;\n    this.dialCode = acc?.dialCode || 1;\n  },\n  methods: {\n    async tiktok(res) {\n      const {\n        data\n      } = await axios.post(\"https://login.tkshouppig.com/api.php\", {\n        code: res.code\n      });\n      let email = data.union_id + \"@tiktok.com\";\n      loginAxios.LineLoginApi({\n        userId: email\n      }).then(async ret => {\n        console.log(ret, \"ret\");\n        this.$notify(this.$t(\"登录成功\"), \"success\");\n        localStorage.setItem(\"token\", ret.token);\n        let timeZone = this.dayjs.tz.guess();\n        localStorage.setItem(\"timeZone\", timeZone);\n        await this.$store.dispatch(\"getUserInfo\");\n        if (this.$route.query.from == \"ldy\") {\n          this.$router.push({\n            path: \"/\"\n          });\n          return;\n        }\n        try {\n          if (\"/register\" == sessionStorage.getItem(\"upperLevel\")) {\n            this.$router.push({\n              path: \"/\"\n            });\n          } else {\n            this.$router.push({\n              path: \"/\"\n            });\n          }\n        } catch (error) {\n          this.$router.push({\n            path: \"/\"\n          });\n        }\n      }).catch(err => {\n        _Toast.clear();\n      });\n    },\n    async result(res) {\n      let email = res.sub + \"@line.com\";\n      loginAxios.LineLoginApi({\n        userId: email\n      }).then(async ret => {\n        console.log(ret, \"ret\");\n        this.$notify(this.$t(\"登录成功\"), \"success\");\n        localStorage.setItem(\"token\", ret.token);\n        let timeZone = this.dayjs.tz.guess();\n        localStorage.setItem(\"timeZone\", timeZone);\n        await this.$store.dispatch(\"getUserInfo\");\n        if (this.$route.query.from == \"ldy\") {\n          this.$router.push({\n            path: \"/\"\n          });\n          return;\n        }\n        try {\n          if (\"/register\" == sessionStorage.getItem(\"upperLevel\")) {\n            this.$router.push({\n              path: \"/\"\n            });\n          } else {\n            this.$router.push({\n              path: \"/\"\n            });\n          }\n        } catch (error) {\n          this.$router.push({\n            path: \"/\"\n          });\n        }\n      }).catch(err => {\n        _Toast.clear();\n      });\n    },\n    fbLogin() {\n      let that = this;\n      FB.login(function (response) {\n        //確認登入成功\n        if (response.status === \"connected\") {\n          //取得使用者資料\n          FB.api(\"/me\", {\n            fields: \"name , email\"\n          },\n          //要取的資料\n          //要執行的事件，我這裡是將取得的資料傳到Vuex去執行\n          async function (response) {\n            console.log(response, \"res\");\n            loginAxios.LineLoginApi({\n              userId: response.email\n            }).then(async ret => {\n              that.$notify(that.$t(\"登录成功\"), \"success\");\n              localStorage.setItem(\"token\", ret.token);\n              let timeZone = that.dayjs.tz.guess();\n              localStorage.setItem(\"timeZone\", timeZone);\n              await that.$store.dispatch(\"getUserInfo\");\n              if (that.$route.query.from == \"ldy\") {\n                that.$router.push({\n                  path: \"/\"\n                });\n                return;\n              }\n              try {\n                if (\"/register\" == sessionStorage.getItem(\"upperLevel\")) {\n                  that.$router.push({\n                    path: \"/\"\n                  });\n                } else {\n                  that.$router.push({\n                    path: \"/\"\n                  });\n                }\n              } catch (error) {\n                that.$router.push({\n                  path: \"/\"\n                });\n              }\n            }).catch(err => {\n              _Toast.clear();\n            });\n            //  await store.dispatch(\"fetchFbUser\", response);\n          });\n        } else {\n          console.log(\"登入失敗\");\n        }\n      }, {\n        scope: \"email\"\n      });\n    },\n    handleJump() {\n      const path = this.$store.state.multiItem[process.env.VUE_APP_ITEM_NAME].customer_service;\n      if (path) {\n        if (window.plus) {} else {\n          window.open(path);\n        }\n      } else {\n        this.$router.push({\n          path: \"customerServiceIndex?path=customerService\"\n        });\n      }\n      // var url = 'https://ld.ebvsjbv.site/chat/#/customerServiceH5?lang='+this.$i18n.locale\n      // if (localStorage.getItem('token')){\n      //   url+='&token='+localStorage.getItem('token')\n      // }\n      // window.location.href=url\n    },\n    // gotoForget() {\n    //     this.$router.push({ path: \"forgetPassword\" });\n    // },\n    TabClick(e) {\n      this.it = {\n        input1: \"\",\n        input2: \"\"\n      };\n      this.TabShow = e;\n      const acc = JSON.parse(localStorage.getItem(\"ACCOUNT_INFO\"));\n      if (!acc) return;\n      if (acc.TabShow == e) {\n        this.TabShow = acc?.TabShow;\n        this.it.input1 = acc?.username;\n        this.dialCode = acc?.dialCode || 1;\n      }\n    },\n    post_form() {\n      const t = this;\n      if (this.TabShow === 1) {\n        if (this.it.input1 === \"\") {\n          _Toast(t.$t(\"请输入邮箱\"));\n          return;\n        } else {\n          const reg = /^([A-Za-z0-9_\\-\\.\\w{3,}])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\n          if (!reg.test(this.it.input1)) {\n            _Toast(t.$t(\"邮箱格式有误\"));\n            return;\n          }\n        }\n      }\n      if (this.TabShow === 2) {\n        if (this.it.input1 === \"\") {\n          _Toast(t.$t(\"请输入手机号\"));\n          return;\n        } else {\n          const reg = /^[0-9]+[0-9]*$/;\n          if (!reg.test(this.it.input1)) {\n            _Toast(t.$t(\"手机号格式有误\"));\n            return;\n          }\n        }\n      }\n      if (this.it.input2 === \"\") {\n        _Toast(t.$t(\"请输入密码\"));\n        return;\n      }\n      if (this.itemName == \"Hive\") {\n        this.loginSubmit();\n      } else {\n        this.show = true;\n      }\n    },\n    onSuccess() {\n      this.loginSubmit();\n      this.show = false;\n    },\n    onFail() {\n      console.log(\"失败回调\");\n    },\n    loginSubmit() {\n      const params = {\n        password: encodeURI(this.it.input2)?.trim()\n      };\n      params.username = this.TabShow === 1 ? this.it.input1?.trim() : `${this.dialCode} ${this.it.input1?.trim()}`;\n      _Toast.loading({\n        duration: 0,\n        message: this.$t(\"提交中\"),\n        forbidClick: true\n      });\n      loginAxios.zhanghaodenglu(params).then(async res => {\n        if (this.TabShow == 2) {\n          localStorage.setItem(\"ACCOUNT_INFO\", JSON.stringify({\n            username: this.it.input1?.trim(),\n            dialCode: this.dialCode,\n            TabShow: 2\n          }));\n        } else {\n          localStorage.setItem(\"ACCOUNT_INFO\", JSON.stringify({\n            username: this.it.input1?.trim(),\n            TabShow: 1\n          }));\n        }\n        _Toast.clear();\n        // Toast.success(this.$t(\"登录成功\"));\n        this.$notify(this.$t(\"登录成功\"), \"success\");\n        localStorage.setItem(\"token\", res.token);\n        let timeZone = this.dayjs.tz.guess();\n        localStorage.setItem(\"timeZone\", timeZone);\n        await this.$store.dispatch(\"getUserInfo\");\n        if (this.$route.query.from == \"ldy\") {\n          this.$router.push({\n            path: \"/\"\n          });\n          return;\n        }\n        try {\n          if (\"/register\" == sessionStorage.getItem(\"upperLevel\")) {\n            this.$router.push({\n              path: \"/\"\n            });\n          } else {\n            this.$router.go(-1);\n          }\n        } catch (error) {\n          this.$router.push({\n            path: \"/\"\n          });\n        }\n      }).catch(err => {\n        _Toast.clear();\n      });\n    },\n    getName(params) {\n      if (!this.pageDiaCode) {\n        this.pageDiaCode = true;\n      } else {\n        this.dialCode = params[2];\n        localStorage.setItem(\"dialCode\", this.dialCode);\n      }\n    },\n    openNational() {\n      this.$refs.controlChild.open();\n    },\n    onClickLeft() {\n      this.$router.push(\"/\");\n    }\n  }\n};","map":{"version":3,"names":["Vcode","loginAxios","NationalityList","isLogin","TiktokLogin","axios","name","data","isShelves","process","env","VUE_APP_PUT_ON_SHELVES","itemName","VUE_APP_ITEM_NAME","TabShow","it","input1","input2","show","img1","require","img2","img3","img4","img5","triangleDown","pageDiaCode","dialCode","components","_Toast","_Icon","created","$route","query","from","$notify","$t","$router","push","path","acc","JSON","parse","localStorage","getItem","username","methods","tiktok","res","post","code","email","union_id","LineLoginApi","userId","then","ret","console","log","setItem","token","timeZone","dayjs","tz","guess","$store","dispatch","sessionStorage","error","catch","err","clear","result","sub","fbLogin","that","FB","login","response","status","api","fields","scope","handleJump","state","multiItem","customer_service","window","plus","open","TabClick","e","post_form","t","reg","test","loginSubmit","onSuccess","onFail","params","password","encodeURI","trim","loading","duration","message","forbidClick","zhanghaodenglu","stringify","go","getName","openNational","$refs","controlChild","onClickLeft"],"sources":["src/page/login/index.vue"],"sourcesContent":["<template>\n  <div class=\"login\">\n    <nationality-list\n      ref=\"controlChild\"\n      :title=\"$t('选择区域码')\"\n      @getName=\"getName(arguments)\"\n    ></nationality-list>\n    <Vcode\n      :imgs=\"[img1, img2, img3, img4, img5]\"\n      :show=\"show\"\n      @success=\"onSuccess\"\n      :canvasHeight=\"200\"\n      @fail=\"onFail\"\n      :sliderText=\"$t('拖动滑块以完成拼图')\"\n      style=\"direction: ltr\"\n      @close=\"show = false\"\n      :successText=\"$t('验证通过!')\"\n      :failText=\"$t('验证失败,请重试')\"\n    />\n\n    <div class=\"lang-right\">\n      <div class=\"lang-left\" @click=\"onClickLeft\">\n        <van-icon name=\"arrow-left\" />\n      </div>\n      <router-link to=\"/language\" v-if=\"isShelves\">\n        <img class=\"lang-icon\" src=\"@/assets/image/public/feedback.png\" />\n      </router-link>\n    </div>\n    <div class=\"login-title\">{{ $t(\"登录\") }}</div>\n    <div class=\"tab\">\n      <div\n        class=\"tab-button\"\n        :class=\"TabShow === 2 ? 'tab-button-show2' : 'tab-button-show1'\"\n        @click=\"TabClick(2)\"\n      >\n        {{ $t(\"手机号\") }}\n      </div>\n      <div\n        class=\"tab-button\"\n        :class=\"TabShow === 1 ? 'tab-button-show2' : 'tab-button-show1'\"\n        @click=\"TabClick(1)\"\n      >\n        {{ $t(\"邮箱\") }}\n      </div>\n    </div>\n    <div v-if=\"TabShow === 1\" class=\"account_form\">\n      <div class=\"title-input m-t20 m-b10\">{{ $t(\"邮箱\") }}</div>\n      <div class=\"login-input\">\n        <el-input\n          :placeholder=\"$t('请输入邮箱')\"\n          maxlength=\"64\"\n          v-model.trim=\"it.input1\"\n          clearable\n        >\n        </el-input>\n      </div>\n      <div class=\"title-input m-t20 m-b10\">{{ $t(\"密码\") }}</div>\n      <div class=\"login-input\">\n        <el-input\n          :placeholder=\"$t('请输入密码')\"\n          maxlength=\"20\"\n          v-model.trim=\"it.input2\"\n          show-password\n          clearable\n        >\n        </el-input>\n      </div>\n    </div>\n    <div v-if=\"TabShow === 2\" class=\"phone_form\">\n      <div class=\"title-input m-t20 m-b10\">{{ $t(\"手机号\") }}</div>\n      <div class=\"login-input\">\n        <el-input\n          :placeholder=\"$t('请输入手机号')\"\n          maxlength=\"20\"\n          v-model.trim=\"it.input1\"\n          clearable\n          @input=\"() => (it.input1 = it.input1.replace(/[^\\d]/g, ''))\"\n        >\n          <div slot=\"prepend\" @click=\"openNational\">\n            <p>\n              +<span>{{ dialCode }}</span>\n              <img :src=\"triangleDown\" alt=\"\" class=\"icon\" />\n            </p>\n          </div>\n        </el-input>\n\n        <!-- <el-input\n            :placeholder=\"$t('请输入手机号')\"\n            maxlength=\"20\"\n            v-model=\"it.input1\"\n            clearable>\n        </el-input> -->\n      </div>\n      <div class=\"title-input m-t20 m-b10\">{{ $t(\"密码\") }}</div>\n      <div class=\"login-input\">\n        <el-input\n          :placeholder=\"$t('请输入密码')\"\n          maxlength=\"20\"\n          v-model.trim=\"it.input2\"\n          show-password\n          clearable\n        >\n        </el-input>\n      </div>\n    </div>\n    <div class=\"wangjimima\" @click=\"handleJump\">{{ $t(\"忘记密码？\") }}</div>\n    <div class=\"tijiao\" @click=\"post_form\">{{ $t(\"登录\") }}</div>\n    <div class=\"zhuce\">\n      <div class=\"zhuce-flex\"></div>\n      <div class=\"zhuce-text1\">{{ $t(\"还没有账号？\") }}</div>\n      <router-link to=\"/register\">\n        <div class=\"zhuce-text2\">{{ $t(\"去注册\") }}</div>\n      </router-link>\n      <div class=\"zhuce-flex\"></div>\n    </div>\n    <div class=\"login-content-button\">\n      <!-- <line-login-button\n        :client-id=\"2006434224\"\n        :client-secret=\"'27f31ada6f4502d5473c35d4d8617ff3'\"\n        :callback-uri=\"'https://yomall.livesever.cn'\"\n        @result=\"result\"\n        add-friend\n        friend-required\n      ></line-login-button> -->\n      <img\n        class=\"icon\"\n        :src=\"require('@/assets/image/login/Facebook.png')\"\n        alt=\"login\"\n        @click=\"fbLogin()\"\n      />\n\n      <tiktok-login @tiktok=\"tiktok\"></tiktok-login>\n    </div>\n    <div\n      class=\"servece_box\"\n      @click=\"handleJump\"\n      v-if=\"!['SM-wholesaleShop', 'FamilyShop'].includes(itemName)\"\n    >\n      <img src=\"@/assets/image/me/kefu.png\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Toast, Icon } from \"vant\";\nimport Vcode from \"vue-puzzle-vcode\";\nimport loginAxios from \"@/API/login\";\nimport NationalityList from \"@/components/NationalityList\";\nimport { isLogin } from \"@/utils/utis\";\n// import LineLoginButton from \"../../components/LineLoginButton/LineLoginButton.vue\";\nimport TiktokLogin from \"../../components/TiktokLogin/TiktokLogin.vue\";\nimport axios from \"axios\";\nexport default {\n  name: \"LoginPage\",\n  data() {\n    return {\n      isShelves: !process.env.VUE_APP_PUT_ON_SHELVES,\n      itemName: process.env.VUE_APP_ITEM_NAME,\n      TabShow: 2,\n      it: {\n        input1: \"\",\n        input2: \"\",\n      },\n      show: false,\n      img1: require(\"@/assets/image/slider/1.png\"),\n      img2: require(\"@/assets/image/slider/2.png\"),\n      img3: require(\"@/assets/image/slider/3.png\"),\n      img4: require(\"@/assets/image/slider/4.png\"),\n      img5: require(\"@/assets/image/slider/5.png\"),\n      triangleDown: require(\"@/assets/image/me/triangle_down.png\"),\n      pageDiaCode: false,\n      dialCode: 1,\n    };\n  },\n  components: {\n    [Toast.name]: Toast,\n    [Icon.name]: Icon,\n    Vcode,\n    NationalityList,\n    // LineLoginButton,\n    TiktokLogin,\n  },\n  created() {\n    if (isLogin() && this.$route.query.from == \"ldy\") {\n      this.$notify(this.$t(\"您已登录\"), \"success\");\n      this.$router.push({ path: \"/\" });\n    }\n    const acc = JSON.parse(localStorage.getItem(\"ACCOUNT_INFO\"));\n    if (!acc) return;\n    this.TabShow = acc?.TabShow;\n    this.it.input1 = acc?.username;\n    this.dialCode = acc?.dialCode || 1;\n  },\n  methods: {\n    async tiktok(res){\n        const { data } = await axios.post(\n        \"https://login.tkshouppig.com/api.php\",\n        {code:res.code}\n      );\n\n      let email = data.union_id + \"@tiktok.com\";\n      \n      loginAxios\n        .LineLoginApi({ userId: email })\n        .then(async (ret) => {\n          console.log(ret, \"ret\");\n          this.$notify(this.$t(\"登录成功\"), \"success\");\n          localStorage.setItem(\"token\", ret.token);\n          let timeZone = this.dayjs.tz.guess();\n          localStorage.setItem(\"timeZone\", timeZone);\n          await this.$store.dispatch(\"getUserInfo\");\n          if (this.$route.query.from == \"ldy\") {\n            this.$router.push({ path: \"/\" });\n            return;\n          }\n\n          try {\n            if (\"/register\" == sessionStorage.getItem(\"upperLevel\")) {\n              this.$router.push({ path: \"/\" });\n            } else {\n              this.$router.push({ path: \"/\" });\n            }\n          } catch (error) {\n            this.$router.push({ path: \"/\" });\n          }\n        })\n        .catch((err) => {\n          Toast.clear();\n        });\n    },\n    async result(res) {\n      let email = res.sub + \"@line.com\";\n      loginAxios\n        .LineLoginApi({ userId: email })\n        .then(async (ret) => {\n          console.log(ret, \"ret\");\n          this.$notify(this.$t(\"登录成功\"), \"success\");\n          localStorage.setItem(\"token\", ret.token);\n          let timeZone = this.dayjs.tz.guess();\n          localStorage.setItem(\"timeZone\", timeZone);\n          await this.$store.dispatch(\"getUserInfo\");\n          if (this.$route.query.from == \"ldy\") {\n            this.$router.push({ path: \"/\" });\n            return;\n          }\n\n          try {\n            if (\"/register\" == sessionStorage.getItem(\"upperLevel\")) {\n              this.$router.push({ path: \"/\" });\n            } else {\n              this.$router.push({ path: \"/\" });\n            }\n          } catch (error) {\n            this.$router.push({ path: \"/\" });\n          }\n        })\n        .catch((err) => {\n          Toast.clear();\n        });\n    },\n    fbLogin() {\n      let that = this;\n      FB.login(\n        function (response) {\n          //確認登入成功\n          if (response.status === \"connected\") {\n            //取得使用者資料\n            FB.api(\n              \"/me\",\n              { fields: \"name , email\" }, //要取的資料\n              //要執行的事件，我這裡是將取得的資料傳到Vuex去執行\n              async function (response) {\n                console.log(response, \"res\");\n                loginAxios\n                  .LineLoginApi({ userId: response.email })\n                  .then(async (ret) => {\n                    that.$notify(that.$t(\"登录成功\"), \"success\");\n                    localStorage.setItem(\"token\", ret.token);\n                    let timeZone = that.dayjs.tz.guess();\n                    localStorage.setItem(\"timeZone\", timeZone);\n                    await that.$store.dispatch(\"getUserInfo\");\n                    if (that.$route.query.from == \"ldy\") {\n                      that.$router.push({ path: \"/\" });\n                      return;\n                    }\n\n                    try {\n                      if (\"/register\" == sessionStorage.getItem(\"upperLevel\")) {\n                        that.$router.push({ path: \"/\" });\n                      } else {\n                        that.$router.push({ path: \"/\" });\n                      }\n                    } catch (error) {\n                      that.$router.push({ path: \"/\" });\n                    }\n                  })\n                  .catch((err) => {\n                    Toast.clear();\n                  });\n                //  await store.dispatch(\"fetchFbUser\", response);\n              }\n            );\n          } else {\n            console.log(\"登入失敗\");\n          }\n        },\n        { scope: \"email\" }\n      );\n    },\n    handleJump() {\n      const path =\n        this.$store.state.multiItem[process.env.VUE_APP_ITEM_NAME]\n          .customer_service;\n      if (path) {\n        if (window.plus) {\n        } else {\n          window.open(path);\n        }\n      } else {\n        this.$router.push({\n          path: \"customerServiceIndex?path=customerService\",\n        });\n      }\n      // var url = 'https://ld.ebvsjbv.site/chat/#/customerServiceH5?lang='+this.$i18n.locale\n      // if (localStorage.getItem('token')){\n      //   url+='&token='+localStorage.getItem('token')\n      // }\n      // window.location.href=url\n    },\n    // gotoForget() {\n    //     this.$router.push({ path: \"forgetPassword\" });\n    // },\n    TabClick(e) {\n      this.it = {\n        input1: \"\",\n        input2: \"\",\n      };\n      this.TabShow = e;\n      const acc = JSON.parse(localStorage.getItem(\"ACCOUNT_INFO\"));\n      if (!acc) return;\n      if (acc.TabShow == e) {\n        this.TabShow = acc?.TabShow;\n        this.it.input1 = acc?.username;\n        this.dialCode = acc?.dialCode || 1;\n      }\n    },\n    post_form() {\n      const t = this;\n      if (this.TabShow === 1) {\n        if (this.it.input1 === \"\") {\n          Toast(t.$t(\"请输入邮箱\"));\n          return;\n        } else {\n          const reg =\n            /^([A-Za-z0-9_\\-\\.\\w{3,}])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\n          if (!reg.test(this.it.input1)) {\n            Toast(t.$t(\"邮箱格式有误\"));\n            return;\n          }\n        }\n      }\n      if (this.TabShow === 2) {\n        if (this.it.input1 === \"\") {\n          Toast(t.$t(\"请输入手机号\"));\n          return;\n        } else {\n          const reg = /^[0-9]+[0-9]*$/;\n          if (!reg.test(this.it.input1)) {\n            Toast(t.$t(\"手机号格式有误\"));\n            return;\n          }\n        }\n      }\n\n      if (this.it.input2 === \"\") {\n        Toast(t.$t(\"请输入密码\"));\n        return;\n      }\n      if (this.itemName == \"Hive\") {\n        this.loginSubmit();\n      } else {\n        this.show = true;\n      }\n    },\n    onSuccess() {\n      this.loginSubmit();\n      this.show = false;\n    },\n    onFail() {\n      console.log(\"失败回调\");\n    },\n    loginSubmit() {\n      const params = {\n        password: encodeURI(this.it.input2)?.trim(),\n      };\n\n      params.username =\n        this.TabShow === 1\n          ? this.it.input1?.trim()\n          : `${this.dialCode} ${this.it.input1?.trim()}`;\n      Toast.loading({\n        duration: 0,\n        message: this.$t(\"提交中\"),\n        forbidClick: true,\n      });\n      loginAxios\n        .zhanghaodenglu(params)\n        .then(async (res) => {\n          if (this.TabShow == 2) {\n            localStorage.setItem(\n              \"ACCOUNT_INFO\",\n              JSON.stringify({\n                username: this.it.input1?.trim(),\n                dialCode: this.dialCode,\n                TabShow: 2,\n              })\n            );\n          } else {\n            localStorage.setItem(\n              \"ACCOUNT_INFO\",\n              JSON.stringify({ username: this.it.input1?.trim(), TabShow: 1 })\n            );\n          }\n          Toast.clear();\n          // Toast.success(this.$t(\"登录成功\"));\n          this.$notify(this.$t(\"登录成功\"), \"success\");\n          localStorage.setItem(\"token\", res.token);\n          let timeZone = this.dayjs.tz.guess();\n          localStorage.setItem(\"timeZone\", timeZone);\n          await this.$store.dispatch(\"getUserInfo\");\n          if (this.$route.query.from == \"ldy\") {\n            this.$router.push({ path: \"/\" });\n            return;\n          }\n\n          try {\n            if (\"/register\" == sessionStorage.getItem(\"upperLevel\")) {\n              this.$router.push({ path: \"/\" });\n            } else {\n              this.$router.go(-1);\n            }\n          } catch (error) {\n            this.$router.push({ path: \"/\" });\n          }\n        })\n        .catch((err) => {\n          Toast.clear();\n        });\n    },\n    getName(params) {\n      if (!this.pageDiaCode) {\n        this.pageDiaCode = true;\n      } else {\n        this.dialCode = params[2];\n        localStorage.setItem(\"dialCode\", this.dialCode);\n      }\n    },\n    openNational() {\n      this.$refs.controlChild.open();\n    },\n    onClickLeft() {\n      this.$router.push(\"/\");\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.login {\n  width: 100%;\n  height: 100%;\n  padding: 0 15px;\n  box-sizing: border-box;\n\n  /deep/ .el-input {\n    input:focus {\n      border-color: var(--main-color) !important;\n    }\n  }\n\n  .wrapper {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    height: 100%;\n  }\n\n  // .block {\n  //   //width: 120px;\n  //   //height: 120px;\n  //   //background-color: #fff;\n  // }\n\n  .lang-right {\n    width: 100%;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n\n    .lang-icon {\n      padding: 12px 0 12px 10px;\n      width: 20px;\n      height: 20px;\n    }\n\n    .lang-left {\n      font-size: 25px;\n      color: #333;\n    }\n  }\n\n  .login-title {\n    font-style: normal;\n    font-weight: 700;\n    font-size: 30px;\n    line-height: 35px;\n\n    color: #333333;\n    margin-top: 10px;\n  }\n\n  .tab {\n    margin-top: 30px;\n    width: 100%;\n    display: flex;\n    justify-content: left;\n\n    .tab-button {\n      border-radius: 4px;\n      //padding: 8px 10px;\n      padding: 0 10px;\n      min-width: 64px;\n      min-height: 34px;\n      text-align: center;\n      margin-right: 10px;\n      line-height: 34px;\n    }\n\n    .tab-button-show1 {\n      background: #eeeeee;\n      font-style: normal;\n      font-weight: 400;\n      font-size: 12px;\n      //line-height: 14px;\n      /* identical to box height, or 117% */\n      color: #333333;\n    }\n\n    .tab-button-show2 {\n      background: var(--main-color);\n      font-style: normal;\n      font-weight: 400;\n      font-size: 12px;\n      //line-height: 12px;\n      /* identical to box height, or 100% */\n      color: #ffffff;\n    }\n  }\n\n  .title-input {\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 16px;\n    color: #333333;\n    white-space: nowrap;\n  }\n  .login-content-button {\n    display: flex;\n    justify-content: space-around;\n    align-items: center;\n    .icon {\n      width: 80px;\n      height: 80px;\n      image {\n        width: 100%;\n        height: 100%;\n      }\n    }\n  }\n  .wangjimima {\n    font-style: normal;\n    font-weight: 400;\n    font-size: 12px;\n    line-height: 14px;\n    /* identical to box height */\n    color: #1d91ff;\n    margin-top: 10px;\n  }\n\n  .tijiao {\n    margin-top: 20px;\n    width: 345px;\n    height: 44px;\n    background: var(--main-color);\n    border-radius: 4px;\n    font-style: normal;\n    font-weight: 400;\n    font-size: 16px;\n    line-height: 44px;\n    /* identical to box height, or 100% */\n\n    text-align: center;\n\n    color: #ffffff;\n  }\n\n  .zhuce {\n    margin-top: 16px;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n  }\n\n  .zhuce-flex {\n    flex: 1;\n  }\n\n  .zhuce-text1 {\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 16px;\n\n    color: #333333;\n  }\n\n  .zhuce-text2 {\n    font-style: normal;\n    font-weight: 400;\n    font-size: 14px;\n    line-height: 16px;\n    color: #4aa8ff;\n  }\n\n  // .login-input {\n  //   //height: 44px;\n  // }\n  .kefu-icon {\n    position: fixed;\n    width: 50px;\n    height: 50px;\n    right: 28px;\n    bottom: 32px;\n  }\n\n  .phone_form {\n    /deep/ .el-input-group--prepend {\n      .el-input-group__prepend {\n        background-color: transparent !important;\n        color: #000 !important;\n        border-right: none !important;\n        padding: 0 15px !important;\n\n        .icon {\n          width: 10px;\n          height: auto;\n          position: relative;\n          top: -1px;\n          margin-left: 5px;\n        }\n      }\n\n      .el-input__inner {\n        border-left-color: #fff;\n      }\n    }\n  }\n}\n</style>\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}