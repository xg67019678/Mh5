"use strict";var e,r,n,o=require("postcss"),t=require("rtlcss"),i=function(){return i=Object.assign||function(e){for(var r,n=1,o=arguments.length;n<o;n++)for(var t in r=arguments[n])Object.prototype.hasOwnProperty.call(r,t)&&(e[t]=r[t]);return e},i.apply(this,arguments)};function a(e,r,n){if(n||2===arguments.length)for(var o,t=0,i=r.length;t<i;t++)!o&&t in r||(o||(o=Array.prototype.slice.call(r,0,t)),o[t]=r[t]);return e.concat(o||Array.prototype.slice.call(r))}"function"==typeof SuppressedError&&SuppressedError,function(e){e.combined="combined",e.override="override",e.diff="diff"}(e||(e={})),function(e){e.ltr="ltr",e.rtl="rtl"}(r||(r={})),function(e){e.disabled="disabled",e.flexible="flexible",e.strict="strict"}(n||(n={}));var d,s,l=/rtl:/,c=/rtl:ignore/,u=/^\/\*!? *rtl:?(begin|end)?:(\w+):?([^*]*?) *\*\/$/,f=/(right|left)/i,p=/^(html)(?=\W|$)/,b=/(:root)(?=\W|$)/,m=/[.?*+^$[\]\\(){}|-]/g,v=/\w$/;!function(e){e.IGNORE="ignore",e.RENAME="rename",e.SOURCE="source",e.RAW="raw"}(d||(d={})),function(e){e.BEGIN="begin",e.END="end"}(s||(s={}));var g=new RegExp("$-^"),h=[{name:"left-right",search:["left","Left","LEFT"],replace:["right","Right","RIGHT"]},{name:"ltr-rtl",search:["ltr","Ltr","LTR"],replace:["rtl","Rtl","RTL"]}],y=function(e){if(e.name)return e.name;var r=Array.isArray(e.search)?e.search[0]:e.search,n=Array.isArray(e.replace)?e.replace[0]:e.replace,o=/[^\w]/g,t=r.replace(o,"-"),i=n.replace(o,"_");return"".concat(t,"-").concat(i)},R=function(e){return e.map((function(e){return{name:y(e),priority:100,search:e.search,replace:e.replace,options:{scope:"*",ignoreCase:!1}}}))},x=Object.keys(e).map((function(r){return e[r]})),k=Object.keys(r).map((function(e){return r[e]})),E=Object.keys(n).map((function(e){return n[e]})),w=function(e){return"string"!=typeof e&&!Array.isArray(e)||!!Array.isArray(e)&&e.some((function(e){return"string"!=typeof e}))},P=function(e,r){return"string"==typeof r?a(a([],e,!0),[r],!1):a(a([],e,!0),r,!0)},A=function(){return{mode:e.combined,ltrPrefix:'[dir="ltr"]',rtlPrefix:'[dir="rtl"]',bothPrefix:"[dir]",prefixSelectorTransformer:null,safeBothPrefix:!1,ignorePrefixedRules:!0,source:r.ltr,processUrls:!1,processKeyFrames:!1,processEnv:!0,useCalc:!1,stringMap:R(h),autoRename:n.disabled,greedy:!1,aliases:{}}},O={options:i({},A()),keyframes:[],keyframesToRemove:[],keyframesStringMap:{},keyframesRegExp:g,rules:[],rulesAutoRename:[],rulesToRemove:[],rulesPrefixRegExp:g},T=function(e){var r,n=i({},A());(e.mode&&x.includes(e.mode)&&(n.mode=e.mode),e.source&&k.includes(e.source)&&(n.source=e.source),e.autoRename&&E.includes(e.autoRename)&&(n.autoRename=e.autoRename),"boolean"==typeof e.ignorePrefixedRules&&(n.ignorePrefixedRules=e.ignorePrefixedRules),"boolean"==typeof e.greedy&&(n.greedy=e.greedy),w(e.ltrPrefix)||(n.ltrPrefix=e.ltrPrefix),w(e.rtlPrefix)||(n.rtlPrefix=e.rtlPrefix),w(e.bothPrefix)||(n.bothPrefix=e.bothPrefix),"function"==typeof e.prefixSelectorTransformer&&(n.prefixSelectorTransformer=e.prefixSelectorTransformer),"boolean"==typeof e.safeBothPrefix&&(n.safeBothPrefix=e.safeBothPrefix),"boolean"==typeof e.processUrls&&(n.processUrls=e.processUrls),"boolean"==typeof e.processKeyFrames&&(n.processKeyFrames=e.processKeyFrames),"boolean"==typeof e.processEnv&&(n.processEnv=e.processEnv),"boolean"==typeof e.useCalc&&(n.useCalc=e.useCalc),function(e){return!Array.isArray(e)||e.some((function(e){return typeof e.search!=typeof e.replace||w(e.search)||w(e.replace)||Array.isArray(e.search)&&Array.isArray(e.replace)&&e.search.length!==e.replace.length}))}(e.stringMap))||R(e.stringMap).forEach((function(e){e.name===h[0].name?n.stringMap.splice(0,1,e):e.name===h[1].name?n.stringMap.splice(1,1,e):n.stringMap.push(e)}));return e.aliases&&(r=e.aliases,!Object.entries(r).some((function(e){return"string"!=typeof e[1]})))&&(n.aliases=e.aliases),n},S=function(e){O.options=T(e),O.keyframes=[],O.keyframesToRemove=[],O.keyframesStringMap={},O.keyframesRegExp=g,O.rules=[],O.rulesAutoRename=[],O.rulesToRemove=[],O.rulesPrefixRegExp=function(e){var r=e.ltrPrefix,n=e.rtlPrefix,o=e.bothPrefix;if(!e.ignorePrefixedRules)return g;var t=[];return t=P(t,r),t=P(t,n),t=(t=P(t,o)).map((function(e){var r=e.replace(m,"\\$&");return v.test(e)?"".concat(r,"(?:\\W|$)"):r})),new RegExp("(".concat(t.join("|"),")"))}(O.options)},j=function(){var e,r;O.keyframesStringMap=(e=O.keyframes,r={},e.forEach((function(e){r[e.atRuleParams]={name:e.atRule.params,nameFlipped:e.atRuleFlipped.params}})),r),O.keyframesRegExp=function(e){return new RegExp("(^|[^\\w-]| )(".concat(Object.keys(e).join("|"),")( |[^\\w-]|$)"),"g")}(O.keyframesStringMap)},M=Object.values(d),N=Object.values(s),I=function(e){var r=e.toString().match(u);if(r&&function(e){return M.includes("".concat(e[2]))&&(void 0===e[1]||N.includes("".concat(e[1])))}(r)){var n={directive:r[2]};return r[1]&&(n.block=r[1]),r[3]&&(n.option=r[3]),n}return null},C=function(e,r){return e.directive===d.IGNORE&&!e.block&&r[d.IGNORE]&&r[d.IGNORE].block===s.BEGIN},F=function(e,r){var n=e[r];if(n){var o=n.block;if(o!==s.BEGIN&&delete e[r],o!==s.END)return!0}return!1},G=function(e,r){var n=e[d.SOURCE],o=F(e,d.SOURCE);return n&&o?n.option:r||void 0},B=function(e,r,n,o){e.each((function(e){if("comment"===e.type||r.includes(e.type))if("comment"===e.type){var t=e,i=I(t);i&&n(t,i)}else o(e)}))},L=/^-\w+-/,U=function(e){return e.replace(L,"")},$=function(e,r){if(O.options.prefixSelectorTransformer){var n=O.options.prefixSelectorTransformer(e,r);if(n&&"string"==typeof n)return n}return p.test(r)?r.replace(p,"$1".concat(e)):b.test(r)?r.replace(b,"".concat(e,"$1")):"".concat(e," ").concat(r)},W=function(e,r){e.selectors="string"==typeof r?e.selectors.map((function(e){return O.rulesPrefixRegExp.test(e)?e:$(r,e)})):e.selectors.reduce((function(e,n){return e=O.rulesPrefixRegExp.test(n)?a(a([],e,!0),[n],!1):e.concat(r.map((function(e){return $(e,n)})))}),[])},K=function(e){return!!e.selectors.find((function(e){return O.rulesPrefixRegExp.test(e)}))},q=function(e){return!!e.nodes&&e.some((function(e){return"decl"===e.type||"rule"===e.type&&q(e)||"atrule"===e.type&&q(e)}))},D=function(e,r,n){if(function(e){return e.some((function(e){return"decl"===e.type}))}(r)){var o;for(n=a([],n,!0);n.length;){o=n.shift();var t=e.nodes.find((function(e){if("rule"===e.type&&e.selector===o.selector)return!0}));t?o=t:(o=o.clone().removeAll(),e.append(o)),e=o}e.append(r)}},z=function(n,o,t,i,a){var d={rule:n,ruleLTR:o,ruleRTL:t,ruleBoth:i,ruleSafe:a};return O.options.mode!==e.diff&&function(n,o,t,i){var a=O.options,d=a.mode,s=a.ltrPrefix,l=a.rtlPrefix,c=a.bothPrefix,u=a.source;d===e.combined?(W(n,u===r.ltr?s:l),W(o,u===r.rtl?s:l)):(W(n,u===r.ltr?l:s),W(o,u===r.rtl?l:s)),W(t,c),W(i,c)}(o,t,i,a),O.rules.push(d),d},H=function(e,r,n,o,t){var i=function(e){for(var r=[];"rule"===e.type;)r.push(e),e=e.parent;return r.shift(),r.reverse()}(e),a=i.shift(),d=O.rules.find((function(e){return e.rule===a}));if(!d){var s=a.clone().removeAll(),l=s.clone(),c=s.clone(),u=s.clone();d=z(a,s,l,c,u)}!function(e,r,n,o,t,i){D(t.ruleLTR,e,i),D(t.ruleRTL,r,i),D(t.ruleBoth,n,i),D(t.ruleSafe,o,i)}(r,n,o,t,d,i)},_=function(e,r){void 0===r&&(r="\n\n"),!e||"rule"!==e.type&&"atrule"!==e.type||(e.raws.before="".concat(r).concat(e.raws.before?e.raws.before.replace(/\n/g,""):""))},J=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];e.forEach((function(e){var r=e.prev();r&&"comment"!==r.type&&_(e),e.walk((function(e){if("decl"===e.type){var r=e;r.raws&&r.raws.value&&l.test(r.raws.value.raw)&&(delete r.raws.value,r.value=r.value.trim())}}))}))},Q=function(e){q(e)?e.walkRules((function(e){Q(e),q(e)||e.remove()})):e.remove()},V={animation:{overridden:null,overrides:["animation-direction","animation-duration","animation-delay","animation-name","animation-fill-mode","animation-iteration-count","animation-play-state","animation-timing-function"]},background:{overridden:null,overrides:["background-attachment","background-clip","background-color","background-image","background-repeat","background-size"]},"background-position":{overridden:"background",overrides:["background-position-x","background-position-y"]},border:{overridden:null,overrides:[]},"border-bottom":{overridden:"border",overrides:["border-bottom-color","border-bottom-style","border-bottom-width"]},"border-left":{overridden:"border",overrides:["border-left-color","border-left-style","border-left-width"]},"border-right":{overridden:"border",overrides:["border-right-color","border-right-style","border-right-width"]},"border-top":{overridden:"border",overrides:["border-top-color","border-top-style","border-top-width"]},"border-color":{overridden:"border",overrides:["border-bottom-color","border-left-color","border-right-color","border-top-color"]},"border-style":{overridden:"border",overrides:["border-bottom-style","border-left-style","border-right-style","border-top-style"]},"border-width":{overridden:"border",overrides:["border-bottom-width","border-left-width","border-right-width","border-top-width"]},"border-radius":{overridden:null,overrides:["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius"]},margin:{overridden:null,overrides:["margin-bottom","margin-left","margin-top","margin-right"]},padding:{overridden:null,overrides:["padding-bottom","padding-left","padding-top","padding-right"]},transition:{overridden:null,overrides:["transition-delay","transition-duration","transition-property","transition-timing-function"]}},X={"border-left":{overridden:"border",overrides:["border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width"]},"border-right":{overridden:"border",overrides:["border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width"]},"border-left-color":{overridden:"border",overrides:["border-inline-end-color","border-inline-start-color"]},"border-right-color":{overridden:"border",overrides:["border-inline-end-color","border-inline-start-color"]},"border-left-style":{overridden:"border",overrides:["border-inline-end-style","border-inline-start-style"]},"border-right-style":{overridden:"border",overrides:["border-inline-end-style","border-inline-start-style"]},"border-left-width":{overridden:"border",overrides:["border-inline-end-width","border-inline-start-width"]},"border-right-width":{overridden:"border",overrides:["border-inline-end-width","border-inline-start-width"]},"border-radius":{overridden:null,overrides:["border-start-start-radius","border-start-end-radius","border-end-start-radius","border-end-end-radius"]},"border-bottom-left-radius":{overridden:"border-radius",overrides:["border-end-start-radius","border-end-end-radius"]},"border-bottom-right-radius":{overridden:"border-radius",overrides:["border-end-start-radius","border-end-end-radius"]},"border-top-left-radius":{overridden:"border-radius",overrides:["border-start-start-radius","border-start-end-radius"]},"border-top-right-radius":{overridden:"border-radius",overrides:["border-start-start-radius","border-start-end-radius"]},left:{overridden:null,overrides:["inset-inline","inset-inline-end","inset-inline-start"]},right:{overridden:null,overrides:["inset-inline","inset-inline-end","inset-inline-start"]},margin:{overridden:null,overrides:["margin-inline","margin-inline-end","margin-inline-start","margin-block","margin-block-end","margin-block-start"]},"margin-left":{overridden:null,overrides:["margin-inline","margin-inline-end","margin-inline-start"]},"margin-right":{overridden:null,overrides:["margin-inline","margin-inline-end","margin-inline-start"]},padding:{overridden:null,overrides:["padding-inline","padding-inline-end","padding-inline-start","padding-block","padding-block-end","padding-block-start"]},"padding-left":{overridden:null,overrides:["padding-inline","padding-inline-end","padding-inline-start"]},"padding-right":{overridden:null,overrides:["padding-inline","padding-inline-end","padding-inline-start"]}},Y=["box-shadow","clear","cursor","direction","float","left","right","text-align","text-align-last","text-shadow","transform","transform-origin"],Z={0:["border-bottom-right-radius","border-bottom-left-radius","border-end-end-radius","border-end-start-radius","border-start-end-radius","border-start-start-radius","border-top-left-radius","border-top-right-radius","margin-block-end","margin-block-start","margin-top","margin-right","margin-bottom","margin-left","margin-inline-end","margin-inline-start","padding-block-end","padding-block-start","padding-top","padding-right","padding-bottom","padding-left","padding-inline-end","padding-inline-start","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-top","scroll-margin-right","scroll-margin-bottom","scroll-margin-left","scroll-margin-inline-end","scroll-margin-inline-start"],auto:["top","right","bottom","left","grid-column-end","grid-column-start","grid-row-end","grid-row-start","inset-block-end","inset-block-start","inset-inline-end","inset-inline-start","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-top","scroll-padding-right","scroll-padding-bottom","scroll-padding-left","scroll-padding-inline-end","scroll-padding-inline-start"],currentcolor:["border-block-start-color","border-block-end-color","border-top-color","border-right-color","border-bottom-color","border-left-color","border-inline-start-color","border-inline-end-color"],medium:["border-block-start-width","border-block-end-width","border-top-width","border-right-width","border-bottom-width","border-left-width","border-inline-start-width","border-inline-end-width"],none:["border-block-start","border-block-end","border-top","border-right","border-bottom","border-left","border-top-style","border-right-style","border-bottom-style","border-left-style","border-block-start-style","border-block-end-style","border-inline-start","border-inline-end","border-inline-start-style","border-inline-end-style"]},ee={},re={},ne={},oe=function(e){return Array.from(new Set(e))},te=function(e){var r=V[e].overridden;return r?[r].concat(te(r)):[]};Object.keys(V).forEach((function(e){var r=te(e);ee[e]=r,V[e].overrides.forEach((function(n){ee[n]=[e].concat(r)}))})),Object.keys(X).forEach((function(e){var r=function(e){var r,n=null===(r=V[e])||void 0===r?void 0:r.overridden,o=X[e].overridden,t=n?[n].concat(te(n)):[],i=o?[o].concat(te(o)):[];return oe(a(a([],t,!0),i,!0))}(e);ee[e]=ee[e]?oe(a(a([],ee[e],!0),r,!0)):r,X[e].overrides.forEach((function(n){ee[n]=ee[n]?oe(a(a([],ee[n],!0),[e].concat(r),!0)):oe([e].concat(r))}))})),Object.assign(re,ee),Y.forEach((function(e){re[e]=[]})),Object.keys(Z).forEach((function(e){Z[e].forEach((function(r){ne[r]=e}))}));var ie=function(e,r){var n=e.clone(),o=e.prev();if(o&&"comment"===o.type){var t=o.clone();r.append(t),o.remove()}r.append(n)},ae=function(e){var r=!!e.raws&&!!e.raws.value&&e.raws.value.raw;return!(!r||!c.test(r))},de=function(e,r,n){return!!n[r.prop]&&Object.entries(n[r.prop].indexes).some((function(o){return o[1].value===r.value.trim()&&!function(e,r,n){var o=e.index(r),t=Object.keys(n[r.prop].indexes).map(Number);return 1!==t.length&&t.some((function(e){return e>o}))}(e,o[1].decl,n)}))},se=function(r,i,a,s){void 0===s&&(s=!1);var l=O.options,c=l.mode,u=l.source,p=l.safeBothPrefix,b=l.processUrls,m=l.processEnv,v=l.useCalc,g=l.stringMap,h=l.autoRename,y=l.greedy,R=l.aliases,x=[],k=r.clone().removeAll(),E=k.clone(),w=k.clone(),P=k.clone(),A=Array.prototype.reduce.call(r.nodes,(function(e,n){if("decl"===n.type){var o=n,t=r.index(o);e[o.prop]=e[o.prop]||{ignore:!1,indexes:{}},e[o.prop].indexes[t]={decl:o,value:o.value.trim(),ignore:!1}}return e}),{}),T=[],S=!1,j={};B(r,["decl"],(function(n,t){var i,s;if(_(n.next()),n.remove(),t.directive===d.RAW&&t.option){var l=G(j,a),f=o.parse(t.option,{from:null===(s=null===(i=r.source)||void 0===i?void 0:i.input)||void 0===s?void 0:s.from});c===e.combined&&!l||l&&(c===e.combined&&l===u||c===e.override&&l!==u)?E.append(f.nodes):k.append(f.nodes)}C(t,j)||(j[t.directive]=t)}),(function(i){var s,l;if(!F(j,d.IGNORE)){var M=F(j,d.RENAME),N=i,I="".concat(N.toString(),";"),C=t.process(I,{processUrls:b||M,processEnv:m,useCalc:v,stringMap:g,autoRename:h!==n.disabled,autoRenameStrict:h===n.strict,greedy:y,aliases:R}),B=o.parse(C,{from:null===(l=null===(s=r.source)||void 0===s?void 0:s.input)||void 0===l?void 0:l.from}).first;B.source=N.source,B.raws=N.raws;var L=N.prop,$=U(L),W=N.value.trim(),K=Object.keys(A[L].indexes).map(Number),q="animation"===$||"animation-name"===$,D=B.prop.trim(),z=B.value.trim(),H=ee[$],_=T.includes($)||!!H&&H.some((function(e){return T.indexOf(e)>=0})),J=function(e,r){return r.some((function(r){return ee[r]&&ee[r].includes(e)}))}($,T),Q=!!p&&!!re[$],V=G(j,a),X=!V||V===u||c===e.diff;if((L!==D||W!==z||_||J||Q||q)&&!(A[N.prop].ignore&&!Q||function(e,r,n,o){var t=e.index(r),i=o[r.prop],a=Object.keys(i.indexes).map(Number).sort();if(1===a.length)return!1;var d=a.filter((function(e){return e>t}));if(d.length){if(f.test(r.prop)){if(o[n.prop]){var s=o[n.prop],l=Object.keys(s.indexes).map(Number).sort().slice(-1)[0],c=d.slice(-1)[0];return i.indexes[c].value===s.indexes[l].value&&(i.ignore=!0,s.ignore=!0),!0}return!1}return!0}return!1}(r,N,B,A)))if(q)if(L!==D||W!==z||0!==O.keyframes.length&&O.keyframesRegExp.test(W)){var Y=N.value.replace(O.keyframesRegExp,(function(e,r,n,o){return r+O.keyframesStringMap[n].name+o})),Z=N.value.replace(O.keyframesRegExp,(function(e,r,n,o){return r+O.keyframesStringMap[n].nameFlipped+o})),oe=N.clone();if(c===e.combined)(te=N.clone()).value=Y,oe.value=Z,X?(k.append(te),E.append(oe)):(k.append(oe),E.append(te)),x.push(N);else N.value=Y,oe.value=Z,X?k.append(oe):E.append(oe),p&&c!==e.diff&&(ie(N,P),x.push(N))}else p&&!ae(N)&&(c===e.diff?ie(N,k):ie(N,P),x.push(N));else{if(L===D&&W===z)return void((_||Q||J)&&!ae(N)&&(c===e.diff?ie(N,k):ie(N,_||J?w:P),x.push(N)));if(de(r,B,A))return S=!0,void(Q&&!ae(N)&&(c===e.diff?ie(N,k):ie(N,P),x.push(N)));if(c===e.combined)X?(ie(N,k),E.append(B)):(ie(N,E),k.append(B)),x.push(N);else{var te;if(f.test(N.prop)&&!A[B.prop]&&r.index(N)===K[0])(te=N.clone()).value=ne[N.prop]||"unset",X?k.append(te):E.append(te);Q&&!ae(N)&&c!==e.diff&&(ie(N,P),x.push(N)),X?k.append(B):E.append(B)}T.push($)}}})),x.length&&x.forEach((function(e){return e.remove()})),k.nodes.length||E.nodes.length||w.nodes.length||P.nodes.length?i?H(r,k,E,w,P):z(r,k,E,w,P):h===n.disabled||S||s?c!==e.diff||s||O.rulesToRemove.push(r):O.rulesAutoRename.push(r)},le=function(r){O.options.mode===e.diff&&O.rulesToRemove.push(r)},ce=function(n,t,i){void 0===t&&(t=void 0),void 0===i&&(i=!1);var a={},s=O.options,l=s.mode,c=s.source,u=s.ltrPrefix,f=s.rtlPrefix;B(n,["rule"],(function(t,i){var s,p;if(i.directive===d.RAW&&i.option){var b=G(a),m=o.parse(i.option,{from:null===(p=null===(s=n.source)||void 0===s?void 0:s.input)||void 0===p?void 0:p.from});return l!==e.diff&&m.walkRules((function(e){W(e,!b&&c===r.ltr||b&&b===r.ltr?f:u)})),void t.replaceWith(m.nodes)}_(t.next()),t.remove(),C(i,a)||(a[i.directive]=i)}),(function(e){if(F(a,d.IGNORE))le(e);else{var r=e,n=G(a,t);F(a,d.RENAME)?K(r)?le(r):(O.rulesAutoRename.push(r),se(r,i,n,!0)):K(r)?le(r):se(r,i,n),ce(r,t,!0)}}))},ue=function(e){var r={};B(e,["atrule","rule"],(function(e,n){C(n,r)||(r[n.directive]=n)}),(function(e){if(!F(r,d.IGNORE)&&"atrule"===e.type){var n=e;if("keyframes"!==U(n.name)){var o=G(r);ce(n,o),ue(n)}}}))},fe=function(r){O.options.mode===e.diff&&O.keyframesToRemove.push(r)};function pe(i){return void 0===i&&(i={}),{postcssPlugin:"postcss-rtlcss",Once:function(a){S(i),function(e){var n=O.options,i=n.source,a=n.processUrls,s=n.useCalc,l=n.stringMap;if(n.processKeyFrames){var c={};B(e,["atrule","rule"],(function(e,r){C(r,c)||(c[r.directive]=r)}),(function(e){var n,u;if(F(c,d.IGNORE))fe(e);else if("atrule"===e.type){var f=e;if("keyframes"===U(f.name)){var p=f.toString(),b=t.process(p,{processUrls:a,useCalc:s,stringMap:l});if(p!==b){var m=o.parse(b,{from:null===(u=null===(n=f.source)||void 0===n?void 0:n.input)||void 0===u?void 0:u.from}).first,v=f.params,g="".concat(v,"-").concat(r.ltr),h="".concat(v,"-").concat(r.rtl),y=G(c);f.params=!y&&i===r.ltr||y&&y===r.ltr?g:h,m.params=!y&&i===r.ltr||y&&y===r.ltr?h:g,O.keyframes.push({atRuleParams:v,atRule:f,atRuleFlipped:m})}else fe(f)}}})),j()}}(a),ue(a),ce(a),O.rules.forEach((function(e){var r=e.rule,n=e.ruleLTR,o=e.ruleRTL,t=e.ruleBoth,i=e.ruleSafe;t&&t.nodes.length&&r.after(t),o&&o.nodes.length&&r.after(o),n&&n.nodes.length&&r.after(n),i&&i.nodes.length&&r.after(i),Q(r),J(r,n,o,t,i)})),O.keyframes.forEach((function(e){var r=e.atRule,n=e.atRuleFlipped;r.after(n),J(r,n)})),function(){if(O.rulesAutoRename.length){var r=O.options.stringMap.reduce((function(e,r){var n="string"==typeof r.search?[r.search]:r.search,o="string"==typeof r.replace?[r.replace]:r.replace;return n.forEach((function(r,n){e[r]=o[n],e[o[n]]=r})),e}),{}),o=Object.keys(r).join("|"),t=O.options.greedy?new RegExp("(".concat(o,")"),"g"):new RegExp("\\b(".concat(o,")\\b"),"g"),i={},a=[];O.rulesAutoRename.forEach((function(r){var n=!1;r.selectors.forEach((function(e){t.test(e)&&(i[e]=!0,n=!0),t.lastIndex=0})),n?a.push(r):O.options.mode===e.diff&&O.rulesToRemove.push(r)})),a.forEach((function(o){var a=o.selectors.join("|");o.selectors=o.selectors.map((function(e){var o=e.replace(t,(function(e,n){return r[n]}));return O.options.autoRename!==n.strict||O.options.autoRename===n.strict&&i[o]?o:e})),o.selectors.join("|")===a&&O.options.mode===e.diff&&O.rulesToRemove.push(o)}))}}(),function(r){var n=O.options,o=O.rules,t=O.rulesToRemove,i=O.keyframes,a=O.keyframesToRemove,d=n.mode,s=n.processKeyFrames;d===e.diff&&(o.forEach((function(e){e.rule.remove()})),t.forEach((function(e){e.remove()})),i.forEach((function(e){e.atRule.remove()})),a.forEach((function(e){e.remove()}))),r.walk((function(n){if(d===e.diff&&("comment"===n.type?n.remove():"atrule"!==n.type||s||"keyframes"!==U(n.name)||n.remove()),("rule"===n.type||"atrule"===n.type)&&n.nodes)if(q(n)){var o=n.prev();o?"comment"!==o.type&&_(n):_(n,n.parent===r?"":"\n")}else d===e.diff&&n.remove()}))}(a)}}}pe.postcss=!0,module.exports=pe;
